2026-01-23 14:13:28,706 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-01-23 14:13:28,706 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-01-23 14:13:28,711 - INFO - Started reloader process [17068] using WatchFiles
2026-01-23 14:13:29,094 - INFO - 1 change detected
2026-01-23 14:13:29,498 - INFO - 1 change detected
2026-01-23 14:13:29,864 - INFO - 1 change detected
2026-01-23 14:13:30,280 - INFO - 1 change detected
2026-01-23 14:13:30,683 - INFO - 1 change detected
2026-01-23 14:13:31,089 - INFO - 1 change detected
2026-01-23 14:13:31,499 - INFO - 1 change detected
2026-01-23 14:13:31,903 - INFO - 1 change detected
2026-01-23 14:13:32,314 - INFO - 1 change detected
2026-01-23 14:13:32,681 - INFO - 1 change detected
2026-01-23 14:13:33,086 - INFO - 1 change detected
2026-01-23 14:13:33,499 - INFO - 1 change detected
2026-01-23 14:13:33,865 - INFO - 1 change detected
2026-01-23 14:13:34,331 - INFO - 1 change detected
2026-01-23 14:13:34,682 - INFO - 1 change detected
2026-01-23 14:13:35,134 - INFO - 1 change detected
2026-01-23 14:13:35,497 - INFO - 1 change detected
2026-01-23 14:13:35,899 - INFO - 1 change detected
2026-01-23 14:13:36,313 - INFO - 1 change detected
2026-01-23 14:13:36,715 - INFO - 1 change detected
2026-01-23 14:13:37,122 - INFO - 1 change detected
2026-01-23 14:13:37,524 - INFO - 1 change detected
2026-01-23 14:13:37,925 - INFO - 1 change detected
2026-01-23 14:13:38,338 - INFO - 1 change detected
2026-01-23 14:13:38,698 - INFO - 1 change detected
2026-01-23 14:13:39,110 - INFO - 1 change detected
2026-01-23 14:13:39,515 - INFO - 1 change detected
2026-01-23 14:13:39,879 - INFO - 1 change detected
2026-01-23 14:13:40,296 - INFO - 1 change detected
2026-01-23 14:13:40,702 - INFO - 1 change detected
2026-01-23 14:13:41,114 - INFO - 1 change detected
2026-01-23 14:13:41,531 - INFO - 1 change detected
2026-01-23 14:13:41,945 - INFO - 1 change detected
2026-01-23 14:13:42,347 - INFO - 1 change detected
2026-01-23 14:13:42,749 - INFO - 1 change detected
2026-01-23 14:13:43,161 - INFO - 1 change detected
2026-01-23 14:13:43,563 - INFO - 1 change detected
2026-01-23 14:13:43,965 - INFO - 1 change detected
2026-01-23 14:13:44,320 - INFO - 1 change detected
2026-01-23 14:13:44,728 - INFO - 1 change detected
2026-01-23 14:13:45,130 - INFO - 1 change detected
2026-01-23 14:13:45,546 - INFO - 1 change detected
2026-01-23 14:13:45,949 - INFO - 1 change detected
2026-01-23 14:13:45,993 - INFO - Started server process [5360]
2026-01-23 14:13:45,996 - INFO - Waiting for application startup.
2026-01-23 14:13:46,031 - INFO - BEGIN (implicit)
2026-01-23 14:13:46,032 - INFO - PRAGMA main.table_info("filenamestore")
2026-01-23 14:13:46,033 - INFO - [raw sql] ()
2026-01-23 14:13:46,037 - INFO - PRAGMA temp.table_info("filenamestore")
2026-01-23 14:13:46,037 - INFO - [raw sql] ()
2026-01-23 14:13:46,039 - INFO - PRAGMA main.table_info("query_log")
2026-01-23 14:13:46,039 - INFO - [raw sql] ()
2026-01-23 14:13:46,042 - INFO - PRAGMA temp.table_info("query_log")
2026-01-23 14:13:46,042 - INFO - [raw sql] ()
2026-01-23 14:13:46,043 - INFO - PRAGMA main.table_info("request_log")
2026-01-23 14:13:46,044 - INFO - [raw sql] ()
2026-01-23 14:13:46,046 - INFO - PRAGMA temp.table_info("request_log")
2026-01-23 14:13:46,046 - INFO - [raw sql] ()
2026-01-23 14:13:46,049 - INFO - 
CREATE TABLE filenamestore (
	id INTEGER NOT NULL, 
	date VARCHAR, 
	time VARCHAR, 
	stored_file_name VARCHAR, 
	original_file_name VARCHAR, 
	PRIMARY KEY (id)
)


2026-01-23 14:13:46,050 - INFO - [no key 0.00111s] ()
2026-01-23 14:13:46,059 - INFO - CREATE UNIQUE INDEX ix_filenamestore_stored_file_name ON filenamestore (stored_file_name)
2026-01-23 14:13:46,060 - INFO - [no key 0.00051s] ()
2026-01-23 14:13:46,067 - INFO - CREATE INDEX ix_filenamestore_original_file_name ON filenamestore (original_file_name)
2026-01-23 14:13:46,068 - INFO - [no key 0.00042s] ()
2026-01-23 14:13:46,077 - INFO - CREATE INDEX ix_filenamestore_date ON filenamestore (date)
2026-01-23 14:13:46,077 - INFO - [no key 0.00061s] ()
2026-01-23 14:13:46,087 - INFO - CREATE INDEX ix_filenamestore_time ON filenamestore (time)
2026-01-23 14:13:46,087 - INFO - [no key 0.00049s] ()
2026-01-23 14:13:46,095 - INFO - CREATE INDEX ix_filenamestore_id ON filenamestore (id)
2026-01-23 14:13:46,097 - INFO - [no key 0.00058s] ()
2026-01-23 14:13:46,108 - INFO - ROLLBACK
2026-01-23 14:13:46,185 - ERROR - Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 6791, in visit_create_table
    processed = self.process(
                ^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 933, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 6822, in visit_create_column
    text = self.get_column_specification(column, first_pk=first_pk)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py", line 1692, in get_column_specification
    coltype = self.dialect.type_compiler_instance.process(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 978, in process
    return type_._compiler_dispatch(self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 7443, in visit_null
    raise exc.CompileError(
sqlalchemy.exc.CompileError: Can't generate DDL for NullType(); did you forget to specify a type on this Column?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 694, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\core\lifespan.py", line 12, in lifespan
    await conn.run_sync(Base.metadata.create_all)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py", line 888, in run_sync
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\schema.py", line 5928, in create_all
    bind._run_ddl_visitor(
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2467, in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 661, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\ddl.py", line 984, in visit_metadata
    self.traverse_single(
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 661, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\ddl.py", line 1022, in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\ddl.py", line 321, in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\ddl.py", line 187, in _execute_on_connection
    return connection._execute_ddl(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1527, in _execute_ddl
    compiled = ddl.compile(
               ^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 312, in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\ddl.py", line 76, in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 887, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 933, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 6801, in visit_create_table
    raise exc.CompileError(
sqlalchemy.exc.CompileError: (in table 'query_log', column 'id'): Can't generate DDL for NullType(); did you forget to specify a type on this Column?

2026-01-23 14:13:46,199 - ERROR - Application startup failed. Exiting.
2026-01-23 14:13:46,301 - INFO - 3 changes detected
2026-01-23 14:13:46,664 - INFO - 1 change detected
2026-01-23 14:13:47,027 - INFO - 1 change detected
2026-01-23 14:13:47,381 - INFO - 1 change detected
2026-01-23 14:13:47,834 - INFO - 1 change detected
2026-01-23 14:13:48,242 - INFO - 1 change detected
2026-01-23 14:13:48,659 - INFO - 1 change detected
2026-01-23 14:13:49,061 - INFO - 1 change detected
2026-01-23 14:13:49,464 - INFO - 1 change detected
2026-01-23 14:13:49,866 - INFO - 1 change detected
2026-01-23 14:13:50,268 - INFO - 1 change detected
2026-01-23 14:13:50,669 - INFO - 1 change detected
2026-01-23 14:13:51,030 - INFO - 1 change detected
2026-01-23 14:13:51,444 - INFO - 1 change detected
2026-01-23 14:13:51,852 - INFO - 1 change detected
2026-01-23 14:13:52,264 - INFO - 1 change detected
2026-01-23 14:13:52,681 - INFO - 1 change detected
2026-01-23 14:13:53,095 - INFO - 1 change detected
2026-01-23 14:13:53,452 - INFO - 1 change detected
2026-01-23 14:13:53,864 - INFO - 1 change detected
2026-01-23 14:13:54,273 - INFO - 1 change detected
2026-01-23 14:13:54,679 - INFO - 1 change detected
2026-01-23 14:13:55,097 - INFO - 1 change detected
2026-01-23 14:13:55,503 - INFO - 1 change detected
2026-01-23 14:13:55,857 - INFO - 1 change detected
2026-01-23 14:13:56,263 - INFO - 1 change detected
2026-01-23 14:13:56,669 - INFO - 1 change detected
2026-01-23 14:13:57,080 - INFO - 1 change detected
2026-01-23 14:13:57,482 - INFO - 1 change detected
2026-01-23 14:13:57,888 - INFO - 1 change detected
2026-01-23 14:13:58,296 - INFO - 1 change detected
2026-01-23 14:13:58,713 - INFO - 1 change detected
2026-01-23 14:13:59,065 - INFO - 1 change detected
2026-01-23 14:13:59,481 - INFO - 1 change detected
2026-01-23 14:13:59,896 - INFO - 1 change detected
2026-01-23 14:14:00,309 - INFO - 1 change detected
2026-01-23 14:14:00,713 - INFO - 1 change detected
2026-01-23 14:14:01,130 - INFO - 1 change detected
2026-01-23 14:14:01,537 - INFO - 1 change detected
2026-01-23 14:14:01,941 - INFO - 1 change detected
2026-01-23 14:14:02,358 - INFO - 1 change detected
2026-01-23 14:14:02,767 - INFO - 1 change detected
2026-01-23 14:14:03,130 - INFO - 1 change detected
2026-01-23 14:14:03,534 - INFO - 1 change detected
2026-01-23 14:14:03,941 - INFO - 1 change detected
2026-01-23 14:14:04,358 - INFO - 1 change detected
2026-01-23 14:14:04,760 - INFO - 1 change detected
2026-01-23 14:14:05,165 - INFO - 1 change detected
2026-01-23 14:14:05,572 - INFO - 1 change detected
2026-01-23 14:14:05,979 - INFO - 1 change detected
2026-01-23 14:14:06,384 - INFO - 1 change detected
2026-01-23 14:14:06,790 - INFO - 1 change detected
2026-01-23 14:14:07,157 - INFO - 1 change detected
2026-01-23 14:14:07,567 - INFO - 1 change detected
2026-01-23 14:14:07,985 - INFO - 1 change detected
2026-01-23 14:14:08,403 - INFO - 1 change detected
2026-01-23 14:14:08,761 - INFO - 1 change detected
2026-01-23 14:14:09,213 - INFO - 1 change detected
2026-01-23 14:14:09,620 - INFO - 1 change detected
2026-01-23 14:14:09,985 - INFO - 1 change detected
2026-01-23 14:14:10,388 - INFO - 1 change detected
2026-01-23 14:14:10,795 - INFO - 1 change detected
2026-01-23 14:14:11,212 - INFO - 1 change detected
2026-01-23 14:14:11,615 - INFO - 1 change detected
2026-01-23 14:14:12,024 - INFO - 1 change detected
2026-01-23 14:14:12,428 - INFO - 1 change detected
2026-01-23 14:14:12,844 - INFO - 1 change detected
2026-01-23 14:14:13,206 - INFO - 1 change detected
2026-01-23 14:14:13,660 - INFO - 1 change detected
2026-01-23 14:14:14,065 - INFO - 1 change detected
2026-01-23 14:14:14,428 - INFO - 1 change detected
2026-01-23 14:14:14,891 - INFO - 1 change detected
2026-01-23 14:14:15,294 - INFO - 1 change detected
2026-01-23 14:14:15,645 - INFO - 1 change detected
2026-01-23 14:14:16,049 - INFO - 1 change detected
2026-01-23 14:14:16,456 - INFO - 1 change detected
2026-01-23 14:14:16,865 - INFO - 1 change detected
2026-01-23 14:14:17,278 - INFO - 1 change detected
2026-01-23 14:14:17,696 - INFO - 1 change detected
2026-01-23 14:14:18,105 - INFO - 1 change detected
2026-01-23 14:14:18,460 - INFO - 1 change detected
2026-01-23 14:14:18,812 - INFO - 1 change detected
2026-01-23 14:14:19,180 - INFO - 1 change detected
2026-01-23 14:14:19,538 - INFO - 1 change detected
2026-01-23 14:14:19,902 - INFO - 1 change detected
2026-01-23 14:14:20,261 - INFO - 1 change detected
2026-01-23 14:14:20,626 - INFO - 1 change detected
2026-01-23 14:14:21,040 - INFO - 1 change detected
2026-01-23 14:14:21,453 - INFO - 1 change detected
2026-01-23 14:14:21,865 - INFO - 1 change detected
2026-01-23 14:14:22,228 - INFO - 1 change detected
2026-01-23 14:14:22,630 - INFO - 1 change detected
2026-01-23 14:14:23,044 - INFO - 1 change detected
2026-01-23 14:14:23,409 - INFO - 1 change detected
2026-01-23 14:14:23,812 - INFO - 1 change detected
2026-01-23 14:14:24,224 - INFO - 1 change detected
2026-01-23 14:14:24,626 - INFO - 1 change detected
2026-01-23 14:14:24,984 - INFO - 1 change detected
2026-01-23 14:14:25,397 - INFO - 1 change detected
2026-01-23 14:14:25,805 - INFO - 1 change detected
2026-01-23 14:14:26,214 - INFO - 1 change detected
2026-01-23 14:14:26,629 - INFO - 1 change detected
2026-01-23 14:14:26,995 - INFO - 1 change detected
2026-01-23 14:14:27,399 - INFO - 1 change detected
2026-01-23 14:14:27,812 - INFO - 1 change detected
2026-01-23 14:14:28,221 - INFO - 1 change detected
2026-01-23 14:14:28,625 - INFO - 1 change detected
2026-01-23 14:14:28,988 - INFO - 1 change detected
2026-01-23 14:14:29,445 - INFO - 1 change detected
2026-01-23 14:14:29,808 - INFO - 1 change detected
2026-01-23 14:15:19,098 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-01-23 14:15:19,099 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-01-23 14:15:19,100 - INFO - Started reloader process [5900] using WatchFiles
2026-01-23 14:15:35,721 - INFO - Started server process [17900]
2026-01-23 14:15:35,723 - INFO - Waiting for application startup.
2026-01-23 14:15:35,728 - INFO - BEGIN (implicit)
2026-01-23 14:15:35,729 - INFO - PRAGMA main.table_info("filenamestore")
2026-01-23 14:15:35,729 - INFO - [raw sql] ()
2026-01-23 14:15:35,730 - INFO - PRAGMA temp.table_info("filenamestore")
2026-01-23 14:15:35,731 - INFO - [raw sql] ()
2026-01-23 14:15:35,733 - INFO - PRAGMA main.table_info("query_log")
2026-01-23 14:15:35,733 - INFO - [raw sql] ()
2026-01-23 14:15:35,735 - INFO - PRAGMA temp.table_info("query_log")
2026-01-23 14:15:35,735 - INFO - [raw sql] ()
2026-01-23 14:15:35,735 - INFO - PRAGMA main.table_info("request_log")
2026-01-23 14:15:35,736 - INFO - [raw sql] ()
2026-01-23 14:15:35,738 - INFO - PRAGMA temp.table_info("request_log")
2026-01-23 14:15:35,738 - INFO - [raw sql] ()
2026-01-23 14:15:35,740 - INFO - 
CREATE TABLE filenamestore (
	id INTEGER NOT NULL, 
	date VARCHAR, 
	time VARCHAR, 
	stored_file_name VARCHAR, 
	original_file_name VARCHAR, 
	PRIMARY KEY (id)
)


2026-01-23 14:15:35,741 - INFO - [no key 0.00074s] ()
2026-01-23 14:15:35,759 - INFO - CREATE INDEX ix_filenamestore_time ON filenamestore (time)
2026-01-23 14:15:35,759 - INFO - [no key 0.00042s] ()
2026-01-23 14:15:35,766 - INFO - CREATE INDEX ix_filenamestore_original_file_name ON filenamestore (original_file_name)
2026-01-23 14:15:35,766 - INFO - [no key 0.00029s] ()
2026-01-23 14:15:35,774 - INFO - CREATE INDEX ix_filenamestore_id ON filenamestore (id)
2026-01-23 14:15:35,774 - INFO - [no key 0.00036s] ()
2026-01-23 14:15:35,782 - INFO - CREATE INDEX ix_filenamestore_date ON filenamestore (date)
2026-01-23 14:15:35,782 - INFO - [no key 0.00027s] ()
2026-01-23 14:15:35,790 - INFO - CREATE UNIQUE INDEX ix_filenamestore_stored_file_name ON filenamestore (stored_file_name)
2026-01-23 14:15:35,790 - INFO - [no key 0.00039s] ()
2026-01-23 14:15:35,798 - INFO - ROLLBACK
2026-01-23 14:15:35,812 - ERROR - Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 6791, in visit_create_table
    processed = self.process(
                ^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 933, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 6822, in visit_create_column
    text = self.get_column_specification(column, first_pk=first_pk)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\dialects\sqlite\base.py", line 1692, in get_column_specification
    coltype = self.dialect.type_compiler_instance.process(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 978, in process
    return type_._compiler_dispatch(self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 7443, in visit_null
    raise exc.CompileError(
sqlalchemy.exc.CompileError: Can't generate DDL for NullType(); did you forget to specify a type on this Column?

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 694, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\core\lifespan.py", line 12, in lifespan
    await conn.run_sync(Base.metadata.create_all)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\ext\asyncio\engine.py", line 888, in run_sync
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\schema.py", line 5928, in create_all
    bind._run_ddl_visitor(
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2467, in _run_ddl_visitor
    ).traverse_single(element)
      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 661, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\ddl.py", line 984, in visit_metadata
    self.traverse_single(
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 661, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\ddl.py", line 1022, in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\ddl.py", line 321, in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\ddl.py", line 187, in _execute_on_connection
    return connection._execute_ddl(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1527, in _execute_ddl
    compiled = ddl.compile(
               ^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 312, in compile
    return self._compiler(dialect, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\ddl.py", line 76, in _compiler
    return dialect.ddl_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 887, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 933, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\visitors.py", line 138, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\sqlalchemy\sql\compiler.py", line 6801, in visit_create_table
    raise exc.CompileError(
sqlalchemy.exc.CompileError: (in table 'query_log', column 'id'): Can't generate DDL for NullType(); did you forget to specify a type on this Column?

2026-01-23 14:15:35,823 - ERROR - Application startup failed. Exiting.
2026-01-23 14:15:35,856 - INFO - 3 changes detected
2026-01-23 14:17:20,104 - INFO - 1 change detected
2026-01-23 14:17:20,104 - WARNING - WatchFiles detected changes in 'models\sqlite\query_log.py'. Reloading...
2026-01-23 14:18:51,842 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-01-23 14:18:51,842 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-01-23 14:18:51,845 - INFO - Started reloader process [17780] using WatchFiles
2026-01-23 14:19:13,907 - INFO - Started server process [3284]
2026-01-23 14:19:13,907 - INFO - Waiting for application startup.
2026-01-23 14:19:13,913 - INFO - BEGIN (implicit)
2026-01-23 14:19:13,913 - INFO - PRAGMA main.table_info("filenamestore")
2026-01-23 14:19:13,913 - INFO - [raw sql] ()
2026-01-23 14:19:13,915 - INFO - PRAGMA temp.table_info("filenamestore")
2026-01-23 14:19:13,915 - INFO - [raw sql] ()
2026-01-23 14:19:13,917 - INFO - PRAGMA main.table_info("query_log")
2026-01-23 14:19:13,917 - INFO - [raw sql] ()
2026-01-23 14:19:13,919 - INFO - PRAGMA temp.table_info("query_log")
2026-01-23 14:19:13,919 - INFO - [raw sql] ()
2026-01-23 14:19:13,920 - INFO - PRAGMA main.table_info("request_log")
2026-01-23 14:19:13,921 - INFO - [raw sql] ()
2026-01-23 14:19:13,922 - INFO - PRAGMA temp.table_info("request_log")
2026-01-23 14:19:13,922 - INFO - [raw sql] ()
2026-01-23 14:19:13,924 - INFO - 
CREATE TABLE filenamestore (
	id INTEGER NOT NULL, 
	date VARCHAR, 
	time VARCHAR, 
	stored_file_name VARCHAR, 
	original_file_name VARCHAR, 
	PRIMARY KEY (id)
)


2026-01-23 14:19:13,925 - INFO - [no key 0.00042s] ()
2026-01-23 14:19:13,933 - INFO - CREATE INDEX ix_filenamestore_time ON filenamestore (time)
2026-01-23 14:19:13,933 - INFO - [no key 0.00031s] ()
2026-01-23 14:19:13,940 - INFO - CREATE INDEX ix_filenamestore_original_file_name ON filenamestore (original_file_name)
2026-01-23 14:19:13,940 - INFO - [no key 0.00038s] ()
2026-01-23 14:19:13,948 - INFO - CREATE INDEX ix_filenamestore_id ON filenamestore (id)
2026-01-23 14:19:13,948 - INFO - [no key 0.00037s] ()
2026-01-23 14:19:13,955 - INFO - CREATE INDEX ix_filenamestore_date ON filenamestore (date)
2026-01-23 14:19:13,955 - INFO - [no key 0.00038s] ()
2026-01-23 14:19:13,961 - INFO - CREATE UNIQUE INDEX ix_filenamestore_stored_file_name ON filenamestore (stored_file_name)
2026-01-23 14:19:13,962 - INFO - [no key 0.00051s] ()
2026-01-23 14:19:13,968 - INFO - 
CREATE TABLE query_log (
	id INTEGER NOT NULL, 
	date VARCHAR, 
	time VARCHAR, 
	query_text VARCHAR, 
	query_length INTEGER, 
	response VARCHAR, 
	response_length VARCHAR, 
	PRIMARY KEY (id)
)


2026-01-23 14:19:13,970 - INFO - [no key 0.00056s] ()
2026-01-23 14:19:13,979 - INFO - CREATE INDEX ix_query_log_time ON query_log (time)
2026-01-23 14:19:13,979 - INFO - [no key 0.00046s] ()
2026-01-23 14:19:13,985 - INFO - CREATE INDEX ix_query_log_response_length ON query_log (response_length)
2026-01-23 14:19:13,985 - INFO - [no key 0.00024s] ()
2026-01-23 14:19:13,991 - INFO - CREATE INDEX ix_query_log_query_length ON query_log (query_length)
2026-01-23 14:19:13,991 - INFO - [no key 0.00035s] ()
2026-01-23 14:19:13,998 - INFO - CREATE INDEX ix_query_log_date ON query_log (date)
2026-01-23 14:19:13,999 - INFO - [no key 0.00030s] ()
2026-01-23 14:19:14,005 - INFO - CREATE INDEX ix_query_log_query_text ON query_log (query_text)
2026-01-23 14:19:14,005 - INFO - [no key 0.00034s] ()
2026-01-23 14:19:14,010 - INFO - 3 changes detected
2026-01-23 14:19:14,012 - INFO - CREATE INDEX ix_query_log_response ON query_log (response)
2026-01-23 14:19:14,013 - INFO - [no key 0.00036s] ()
2026-01-23 14:19:14,016 - INFO - CREATE INDEX ix_query_log_id ON query_log (id)
2026-01-23 14:19:14,019 - INFO - [no key 0.00031s] ()
2026-01-23 14:19:14,023 - INFO - 
CREATE TABLE request_log (
	id INTEGER NOT NULL, 
	date VARCHAR, 
	time VARCHAR, 
	method VARCHAR, 
	url VARCHAR, 
	status_code VARCHAR, 
	client_ip VARCHAR, 
	PRIMARY KEY (id)
)


2026-01-23 14:19:14,023 - INFO - [no key 0.00040s] ()
2026-01-23 14:19:14,030 - INFO - CREATE INDEX ix_request_log_time ON request_log (time)
2026-01-23 14:19:14,030 - INFO - [no key 0.00028s] ()
2026-01-23 14:19:14,036 - INFO - CREATE INDEX ix_request_log_status_code ON request_log (status_code)
2026-01-23 14:19:14,036 - INFO - [no key 0.00025s] ()
2026-01-23 14:19:14,043 - INFO - CREATE INDEX ix_request_log_id ON request_log (id)
2026-01-23 14:19:14,043 - INFO - [no key 0.00032s] ()
2026-01-23 14:19:14,049 - INFO - CREATE INDEX ix_request_log_method ON request_log (method)
2026-01-23 14:19:14,049 - INFO - [no key 0.00030s] ()
2026-01-23 14:19:14,055 - INFO - CREATE INDEX ix_request_log_url ON request_log (url)
2026-01-23 14:19:14,055 - INFO - [no key 0.00028s] ()
2026-01-23 14:19:14,062 - INFO - CREATE INDEX ix_request_log_date ON request_log (date)
2026-01-23 14:19:14,062 - INFO - [no key 0.00036s] ()
2026-01-23 14:19:14,064 - INFO - CREATE INDEX ix_request_log_client_ip ON request_log (client_ip)
2026-01-23 14:19:14,064 - INFO - [no key 0.00026s] ()
2026-01-23 14:19:14,075 - INFO - COMMIT
2026-01-23 14:19:14,076 - INFO - Application startup complete.
2026-01-23 14:19:14,114 - INFO - Request: GET /docs from 127.0.0.1
2026-01-23 14:19:14,114 - INFO - Response: GET /docs returned 200 to 127.0.0.1
2026-01-23 14:19:14,371 - INFO - 3 changes detected
2026-01-23 14:19:50,164 - INFO - Request: GET /openapi.json from 127.0.0.1
2026-01-23 14:19:50,189 - INFO - Response: GET /openapi.json returned 200 to 127.0.0.1
2026-01-23 14:20:20,352 - INFO - Request: POST /verify-access from 127.0.0.1
2026-01-23 14:20:20,353 - INFO - Response: POST /verify-access returned 200 to 127.0.0.1
2026-01-23 14:21:57,827 - INFO - Request: POST /upload-files from 127.0.0.1
2026-01-23 14:21:58,066 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_utils.py", line 85, in collapse_excgroups
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\middleware\request_logging.py", line 15, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\api\routes\file_upload.py", line 162, in upload_files
    process_docs = RAGPipeline()
                   ^^^^^^^^^^^^^
TypeError: RAGPipeline.__init__() missing 1 required positional argument: 'db'
2026-01-23 14:21:58,258 - INFO - 3 changes detected
2026-01-23 14:29:55,542 - INFO - 1 change detected
2026-01-23 14:29:55,544 - WARNING - WatchFiles detected changes in 'services\rag_pipeline.py'. Reloading...
2026-01-23 14:29:55,624 - INFO - Shutting down
2026-01-23 14:29:55,738 - INFO - Waiting for application shutdown.
2026-01-23 14:29:55,745 - INFO - Application shutdown complete.
2026-01-23 14:29:55,745 - INFO - Finished server process [3284]
2026-01-23 14:29:57,854 - INFO - 2 changes detected
2026-01-23 14:29:59,581 - INFO - 5 changes detected
2026-01-23 14:30:17,656 - INFO - Started server process [1300]
2026-01-23 14:30:17,656 - INFO - Waiting for application startup.
2026-01-23 14:30:17,656 - INFO - BEGIN (implicit)
2026-01-23 14:30:17,656 - INFO - PRAGMA main.table_info("filenamestore")
2026-01-23 14:30:17,656 - INFO - [raw sql] ()
2026-01-23 14:30:17,667 - INFO - PRAGMA main.table_info("query_log")
2026-01-23 14:30:17,667 - INFO - [raw sql] ()
2026-01-23 14:30:17,672 - INFO - PRAGMA main.table_info("request_log")
2026-01-23 14:30:17,673 - INFO - [raw sql] ()
2026-01-23 14:30:17,675 - INFO - COMMIT
2026-01-23 14:30:17,675 - INFO - Application startup complete.
2026-01-23 14:30:19,093 - INFO - 1 change detected
2026-01-23 14:30:19,093 - WARNING - WatchFiles detected changes in 'services\late_chunking.py'. Reloading...
2026-01-23 14:30:19,170 - INFO - Shutting down
2026-01-23 14:30:19,284 - INFO - Waiting for application shutdown.
2026-01-23 14:30:19,292 - INFO - Application shutdown complete.
2026-01-23 14:30:19,293 - INFO - Finished server process [1300]
2026-01-23 14:30:21,186 - INFO - 1 change detected
2026-01-23 14:30:23,250 - INFO - 5 changes detected
2026-01-23 14:30:41,100 - INFO - Started server process [14916]
2026-01-23 14:30:41,102 - INFO - Waiting for application startup.
2026-01-23 14:30:41,108 - INFO - BEGIN (implicit)
2026-01-23 14:30:41,108 - INFO - PRAGMA main.table_info("filenamestore")
2026-01-23 14:30:41,110 - INFO - [raw sql] ()
2026-01-23 14:30:41,112 - INFO - PRAGMA main.table_info("query_log")
2026-01-23 14:30:41,112 - INFO - [raw sql] ()
2026-01-23 14:30:41,112 - INFO - PRAGMA main.table_info("request_log")
2026-01-23 14:30:41,112 - INFO - [raw sql] ()
2026-01-23 14:30:41,118 - INFO - COMMIT
2026-01-23 14:30:41,120 - INFO - Application startup complete.
2026-01-23 14:31:18,894 - INFO - 1 change detected
2026-01-23 14:31:18,895 - WARNING - WatchFiles detected changes in 'services\store_vectors.py'. Reloading...
2026-01-23 14:31:19,018 - INFO - Shutting down
2026-01-23 14:31:19,131 - INFO - Waiting for application shutdown.
2026-01-23 14:31:19,134 - INFO - Application shutdown complete.
2026-01-23 14:31:19,135 - INFO - Finished server process [14916]
2026-01-23 14:31:20,832 - INFO - 1 change detected
2026-01-23 14:31:23,095 - INFO - 1 change detected
2026-01-23 14:31:23,095 - WARNING - WatchFiles detected changes in 'services\rag_pipeline.py'. Reloading...
2026-01-23 14:31:42,404 - INFO - Started server process [10124]
2026-01-23 14:31:42,409 - INFO - Waiting for application startup.
2026-01-23 14:31:42,418 - INFO - BEGIN (implicit)
2026-01-23 14:31:42,419 - INFO - PRAGMA main.table_info("filenamestore")
2026-01-23 14:31:42,420 - INFO - [raw sql] ()
2026-01-23 14:31:42,424 - INFO - PRAGMA main.table_info("query_log")
2026-01-23 14:31:42,425 - INFO - [raw sql] ()
2026-01-23 14:31:42,427 - INFO - PRAGMA main.table_info("request_log")
2026-01-23 14:31:42,429 - INFO - [raw sql] ()
2026-01-23 14:31:42,431 - INFO - COMMIT
2026-01-23 14:31:42,434 - INFO - Application startup complete.
2026-01-23 14:31:42,446 - ERROR - Traceback (most recent call last):
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\_compat.py", line 30, in asyncio_run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2026-01-27 15:45:56,777 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-01-27 15:45:56,780 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-01-27 15:45:56,781 - INFO - Started reloader process [1440] using WatchFiles
2026-01-27 15:45:58,453 - INFO - Started server process [10456]
2026-01-27 15:45:58,453 - INFO - Waiting for application startup.
2026-01-27 15:45:58,469 - INFO - BEGIN (implicit)
2026-01-27 15:45:58,470 - INFO - PRAGMA main.table_info("filenamestore")
2026-01-27 15:45:58,470 - INFO - [raw sql] ()
2026-01-27 15:45:58,476 - INFO - PRAGMA main.table_info("query_log")
2026-01-27 15:45:58,476 - INFO - [raw sql] ()
2026-01-27 15:45:58,478 - INFO - PRAGMA main.table_info("request_log")
2026-01-27 15:45:58,478 - INFO - [raw sql] ()
2026-01-27 15:45:58,480 - INFO - COMMIT
2026-01-27 15:45:58,481 - INFO - Application startup complete.
2026-01-27 15:46:07,686 - INFO - Request: GET /docs from 127.0.0.1
2026-01-27 15:46:07,689 - INFO - Response: GET /docs returned 200 to 127.0.0.1
2026-01-27 15:46:12,328 - INFO - Request: GET /openapi.json from 127.0.0.1
2026-01-27 15:46:12,347 - INFO - Response: GET /openapi.json returned 200 to 127.0.0.1
2026-01-27 15:46:21,096 - INFO - Request: POST /verify-access from 127.0.0.1
2026-01-27 15:46:21,097 - INFO - Response: POST /verify-access returned 200 to 127.0.0.1
2026-01-27 15:46:53,507 - INFO - Request: POST /upload-file from 127.0.0.1
2026-01-27 15:46:53,576 - INFO - 1 change detected
2026-01-27 15:46:53,521 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_utils.py", line 85, in collapse_excgroups
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\middleware\request_logging.py", line 15, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\api\routes\file_upload.py", line 64, in upload_file
    current_date = datetime.date()
                   ^^^^^^^^^^^^^^^
TypeError: unbound method datetime.date() needs an argument
2026-01-27 15:48:15,497 - INFO - 1 change detected
2026-01-27 15:48:15,498 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-01-27 15:48:15,612 - INFO - Shutting down
2026-01-27 15:48:15,727 - INFO - Waiting for application shutdown.
2026-01-27 15:48:15,730 - INFO - Application shutdown complete.
2026-01-27 15:48:15,731 - INFO - Finished server process [10456]
2026-01-27 15:48:16,276 - INFO - 1 change detected
2026-01-27 15:48:17,233 - INFO - 5 changes detected
2026-01-27 15:48:17,548 - INFO - Started server process [12616]
2026-01-27 15:48:17,548 - INFO - Waiting for application startup.
2026-01-27 15:48:17,566 - INFO - BEGIN (implicit)
2026-01-27 15:48:17,566 - INFO - PRAGMA main.table_info("filenamestore")
2026-01-27 15:48:17,566 - INFO - [raw sql] ()
2026-01-27 15:48:17,568 - INFO - PRAGMA main.table_info("query_log")
2026-01-27 15:48:17,569 - INFO - [raw sql] ()
2026-01-27 15:48:17,571 - INFO - PRAGMA main.table_info("request_log")
2026-01-27 15:48:17,571 - INFO - [raw sql] ()
2026-01-27 15:48:17,572 - INFO - COMMIT
2026-01-27 15:48:17,573 - INFO - Application startup complete.
2026-01-27 15:48:17,595 - INFO - 2 changes detected
2026-01-27 15:48:17,595 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-01-27 15:48:17,684 - INFO - Shutting down
2026-01-27 15:48:17,798 - INFO - Waiting for application shutdown.
2026-01-27 15:48:17,798 - INFO - Application shutdown complete.
2026-01-27 15:48:17,798 - INFO - Finished server process [12616]
2026-01-27 15:48:18,353 - INFO - 1 change detected
2026-01-27 15:48:18,963 - INFO - 5 changes detected
2026-01-27 15:48:19,263 - INFO - Started server process [19764]
2026-01-27 15:48:19,263 - INFO - Waiting for application startup.
2026-01-27 15:48:19,263 - INFO - BEGIN (implicit)
2026-01-27 15:48:19,263 - INFO - PRAGMA main.table_info("filenamestore")
2026-01-27 15:48:19,263 - INFO - [raw sql] ()
2026-01-27 15:48:19,272 - INFO - PRAGMA main.table_info("query_log")
2026-01-27 15:48:19,272 - INFO - [raw sql] ()
2026-01-27 15:48:19,273 - INFO - PRAGMA main.table_info("request_log")
2026-01-27 15:48:19,274 - INFO - [raw sql] ()
2026-01-27 15:48:19,277 - INFO - COMMIT
2026-01-27 15:48:19,277 - INFO - Application startup complete.
2026-01-27 15:52:10,584 - INFO - 1 change detected
2026-01-27 15:52:10,584 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-01-27 15:52:10,629 - INFO - Shutting down
2026-01-27 15:52:10,744 - INFO - Waiting for application shutdown.
2026-01-27 15:52:10,745 - INFO - Application shutdown complete.
2026-01-27 15:52:10,745 - INFO - Finished server process [19764]
2026-01-27 15:52:11,336 - INFO - 1 change detected
2026-01-27 15:52:12,703 - INFO - 1 change detected
2026-01-27 15:52:12,703 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-01-27 15:52:13,781 - INFO - 5 changes detected
2026-01-27 15:52:14,081 - INFO - Started server process [352]
2026-01-27 15:52:14,084 - INFO - Waiting for application startup.
2026-01-27 15:52:14,084 - INFO - BEGIN (implicit)
2026-01-27 15:52:14,084 - INFO - PRAGMA main.table_info("filenamestore")
2026-01-27 15:52:14,084 - INFO - [raw sql] ()
2026-01-27 15:52:14,090 - INFO - PRAGMA main.table_info("query_log")
2026-01-27 15:52:14,091 - INFO - [raw sql] ()
2026-01-27 15:52:14,092 - INFO - PRAGMA main.table_info("request_log")
2026-01-27 15:52:14,092 - INFO - [raw sql] ()
2026-01-27 15:52:14,094 - INFO - COMMIT
2026-01-27 15:52:14,095 - INFO - Application startup complete.
2026-01-27 15:52:19,945 - INFO - 1 change detected
2026-01-27 15:52:19,945 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-01-27 15:52:20,011 - INFO - Shutting down
2026-01-27 15:52:20,127 - INFO - Waiting for application shutdown.
2026-01-27 15:52:20,128 - INFO - Application shutdown complete.
2026-01-27 15:52:20,133 - INFO - Finished server process [352]
2026-01-27 15:52:20,663 - INFO - 1 change detected
2026-01-27 15:52:21,379 - INFO - 5 changes detected
2026-01-27 15:52:21,651 - INFO - Started server process [25236]
2026-01-27 15:52:21,651 - INFO - Waiting for application startup.
2026-01-27 15:52:21,660 - INFO - BEGIN (implicit)
2026-01-27 15:52:21,660 - INFO - PRAGMA main.table_info("filenamestore")
2026-01-27 15:52:21,661 - INFO - [raw sql] ()
2026-01-27 15:52:21,662 - INFO - PRAGMA main.table_info("query_log")
2026-01-27 15:52:21,663 - INFO - [raw sql] ()
2026-01-27 15:52:21,664 - INFO - PRAGMA main.table_info("request_log")
2026-01-27 15:52:21,664 - INFO - [raw sql] ()
2026-01-27 15:52:21,666 - INFO - COMMIT
2026-01-27 15:52:21,667 - INFO - Application startup complete.
2026-01-27 15:52:28,562 - INFO - 1 change detected
2026-01-27 15:52:28,562 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-01-27 15:52:28,598 - INFO - Shutting down
2026-01-27 15:52:28,708 - INFO - Waiting for application shutdown.
2026-01-27 15:52:28,741 - INFO - Application shutdown complete.
2026-01-27 15:52:28,769 - INFO - Finished server process [25236]
2026-01-27 15:52:29,301 - INFO - 1 change detected
2026-01-27 15:52:29,763 - INFO - 1 change detected
2026-01-27 15:52:29,763 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-01-27 15:52:30,290 - INFO - Started server process [25048]
2026-01-27 15:52:30,290 - INFO - Waiting for application startup.
2026-01-27 15:52:30,297 - INFO - BEGIN (implicit)
2026-01-27 15:52:30,297 - INFO - PRAGMA main.table_info("filenamestore")
2026-01-27 15:52:30,300 - INFO - [raw sql] ()
2026-01-27 15:52:30,303 - INFO - PRAGMA main.table_info("query_log")
2026-01-27 15:52:30,304 - INFO - [raw sql] ()
2026-01-27 15:52:30,305 - INFO - PRAGMA main.table_info("request_log")
2026-01-27 15:52:30,307 - INFO - [raw sql] ()
2026-01-27 15:52:30,310 - INFO - COMMIT
2026-01-27 15:52:30,311 - INFO - Application startup complete.
2026-01-27 15:52:30,337 - ERROR - Traceback (most recent call last):
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\_compat.py", line 30, in asyncio_run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2026-01-27 15:56:53,877 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-01-27 15:56:53,879 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-01-27 15:56:53,880 - INFO - Started reloader process [9472] using WatchFiles
2026-01-27 15:56:55,193 - INFO - Started server process [21364]
2026-01-27 15:56:55,195 - INFO - Waiting for application startup.
2026-01-27 15:56:55,198 - INFO - BEGIN (implicit)
2026-01-27 15:56:55,199 - INFO - PRAGMA main.table_info("filenamestore")
2026-01-27 15:56:55,199 - INFO - [raw sql] ()
2026-01-27 15:56:55,201 - INFO - PRAGMA main.table_info("query_log")
2026-01-27 15:56:55,201 - INFO - [raw sql] ()
2026-01-27 15:56:55,203 - INFO - PRAGMA main.table_info("request_log")
2026-01-27 15:56:55,203 - INFO - [raw sql] ()
2026-01-27 15:56:55,204 - INFO - COMMIT
2026-01-27 15:56:55,206 - INFO - Application startup complete.
2026-01-27 15:56:58,877 - INFO - Request: GET /docs from 127.0.0.1
2026-01-27 15:56:58,877 - INFO - Response: GET /docs returned 200 to 127.0.0.1
2026-01-27 15:56:59,131 - INFO - Request: GET /openapi.json from 127.0.0.1
2026-01-27 15:56:59,141 - INFO - Response: GET /openapi.json returned 200 to 127.0.0.1
2026-01-27 15:57:10,738 - INFO - Request: POST /verify-access from 127.0.0.1
2026-01-27 15:57:10,743 - INFO - Response: POST /verify-access returned 200 to 127.0.0.1
2026-01-27 15:57:13,206 - INFO - Request: POST /verify-access from 127.0.0.1
2026-01-27 15:57:13,207 - INFO - Response: POST /verify-access returned 200 to 127.0.0.1
2026-01-27 15:57:25,831 - INFO - Request: POST /upload-file from 127.0.0.1
2026-01-27 15:57:25,838 - INFO - BEGIN (implicit)
2026-01-27 15:57:25,838 - INFO - INSERT INTO filenamestore (date, time, stored_file_name, original_file_name) VALUES (?, ?, ?, ?)
2026-01-27 15:57:25,838 - INFO - [generated in 0.00042s] (datetime.date(2026, 1, 27), datetime.datetime(2026, 1, 27, 15, 57, 25, 838980), '8ba8e7e0-f60f-4b06-8ec1-d382284e3a5b.pdf', 'HOSTEL FEE.pdf')
2026-01-27 15:57:25,838 - INFO - COMMIT
2026-01-27 15:57:25,859 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_utils.py", line 85, in collapse_excgroups
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\middleware\request_logging.py", line 15, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\api\routes\file_upload.py", line 74, in upload_file
    await db.refresh()
          ^^^^^^^^^^^^
TypeError: AsyncSession.refresh() missing 1 required positional argument: 'instance'
2026-01-27 15:57:26,038 - INFO - 4 changes detected
2026-02-10 12:48:18,048 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-02-10 12:48:18,063 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-10 12:48:18,063 - INFO - Started reloader process [22532] using WatchFiles
2026-02-10 12:48:21,796 - INFO - Started server process [19692]
2026-02-10 12:48:21,796 - INFO - Waiting for application startup.
2026-02-10 12:48:21,805 - INFO - BEGIN (implicit)
2026-02-10 12:48:21,809 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-10 12:48:21,809 - INFO - [raw sql] ()
2026-02-10 12:48:21,812 - INFO - PRAGMA main.table_info("query_log")
2026-02-10 12:48:21,812 - INFO - [raw sql] ()
2026-02-10 12:48:21,816 - INFO - PRAGMA main.table_info("request_log")
2026-02-10 12:48:21,816 - INFO - [raw sql] ()
2026-02-10 12:48:21,818 - INFO - COMMIT
2026-02-10 12:48:26,973 - INFO - Application startup complete.
2026-02-10 12:50:02,215 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\api\routes\file_upload.py", line 25, in upload_docs
    uploader = await upload.run(files)
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\services\file_service\file_uploader.py", line 86, in run
    await self.save_file_name(self.db,filename,unique_filename)
                              ^^^^^^^
AttributeError: 'FileUploader' object has no attribute 'db'
2026-02-10 12:50:02,293 - INFO - 1 change detected
2026-02-10 12:53:05,649 - INFO - 1 change detected
2026-02-10 12:53:05,649 - WARNING - WatchFiles detected changes in 'api\deps\service_deps.py'. Reloading...
2026-02-10 12:53:05,687 - INFO - Shutting down
2026-02-10 12:53:05,795 - INFO - Waiting for application shutdown.
2026-02-10 12:53:05,797 - INFO - Application shutdown complete.
2026-02-10 12:53:05,797 - INFO - Finished server process [19692]
2026-02-10 12:53:06,550 - INFO - 1 change detected
2026-02-10 12:53:09,008 - INFO - 5 changes detected
2026-02-10 12:53:09,922 - INFO - 1 change detected
2026-02-10 12:53:09,922 - WARNING - WatchFiles detected changes in 'api\deps\service_deps.py'. Reloading...
2026-02-10 12:53:11,035 - INFO - Started server process [13048]
2026-02-10 12:53:11,037 - INFO - Waiting for application startup.
2026-02-10 12:53:11,048 - INFO - BEGIN (implicit)
2026-02-10 12:53:11,050 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-10 12:53:11,050 - INFO - [raw sql] ()
2026-02-10 12:53:11,056 - INFO - PRAGMA main.table_info("query_log")
2026-02-10 12:53:11,056 - INFO - [raw sql] ()
2026-02-10 12:53:11,060 - INFO - PRAGMA main.table_info("request_log")
2026-02-10 12:53:11,061 - INFO - [raw sql] ()
2026-02-10 12:53:11,064 - INFO - COMMIT
2026-02-10 12:53:16,301 - INFO - Application startup complete.
2026-02-10 12:53:16,311 - ERROR - Traceback (most recent call last):
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\_compat.py", line 30, in asyncio_run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2026-02-10 12:54:21,034 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-02-10 12:54:21,037 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-10 12:54:21,039 - INFO - Started reloader process [5572] using WatchFiles
2026-02-10 12:54:24,626 - INFO - Started server process [15224]
2026-02-10 12:54:24,629 - INFO - Waiting for application startup.
2026-02-10 12:54:24,637 - INFO - BEGIN (implicit)
2026-02-10 12:54:24,637 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-10 12:54:24,637 - INFO - [raw sql] ()
2026-02-10 12:54:24,639 - INFO - PRAGMA main.table_info("query_log")
2026-02-10 12:54:24,642 - INFO - [raw sql] ()
2026-02-10 12:54:24,643 - INFO - PRAGMA main.table_info("request_log")
2026-02-10 12:54:24,643 - INFO - [raw sql] ()
2026-02-10 12:54:24,643 - INFO - COMMIT
2026-02-10 12:54:29,661 - INFO - Application startup complete.
2026-02-10 12:55:08,111 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\api\routes\file_upload.py", line 25, in upload_docs
    uploader = await upload.run(files)
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\services\file_service\file_uploader.py", line 86, in run
    await self.save_file_name(self.db,filename,unique_filename)
                              ^^^^^^^
AttributeError: 'FileUploader' object has no attribute 'db'
2026-02-10 12:55:08,188 - INFO - 1 change detected
2026-02-10 12:57:54,377 - INFO - 1 change detected
2026-02-10 12:57:54,382 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-10 12:57:54,454 - INFO - Shutting down
2026-02-10 12:57:54,567 - INFO - Waiting for application shutdown.
2026-02-10 12:57:54,570 - INFO - Application shutdown complete.
2026-02-10 12:57:54,572 - INFO - Finished server process [15224]
2026-02-10 12:57:55,341 - INFO - 1 change detected
2026-02-10 12:57:57,671 - INFO - 5 changes detected
2026-02-10 12:57:58,803 - INFO - 1 change detected
2026-02-10 12:57:58,803 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-10 12:57:59,618 - INFO - Started server process [1712]
2026-02-10 12:57:59,618 - INFO - Waiting for application startup.
2026-02-10 12:57:59,630 - INFO - BEGIN (implicit)
2026-02-10 12:57:59,630 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-10 12:57:59,630 - INFO - [raw sql] ()
2026-02-10 12:57:59,635 - INFO - PRAGMA main.table_info("query_log")
2026-02-10 12:57:59,635 - INFO - [raw sql] ()
2026-02-10 12:57:59,639 - INFO - PRAGMA main.table_info("request_log")
2026-02-10 12:57:59,639 - INFO - [raw sql] ()
2026-02-10 12:57:59,641 - INFO - COMMIT
2026-02-10 12:58:05,175 - INFO - Application startup complete.
2026-02-10 12:58:05,191 - ERROR - Traceback (most recent call last):
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\_compat.py", line 30, in asyncio_run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2026-02-10 12:58:28,503 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-02-10 12:58:28,506 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-10 12:58:28,508 - INFO - Started reloader process [13212] using WatchFiles
2026-02-10 12:58:33,463 - INFO - Started server process [19460]
2026-02-10 12:58:33,467 - INFO - Waiting for application startup.
2026-02-10 12:58:33,473 - INFO - BEGIN (implicit)
2026-02-10 12:58:33,475 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-10 12:58:33,475 - INFO - [raw sql] ()
2026-02-10 12:58:33,477 - INFO - PRAGMA main.table_info("query_log")
2026-02-10 12:58:33,478 - INFO - [raw sql] ()
2026-02-10 12:58:33,480 - INFO - PRAGMA main.table_info("request_log")
2026-02-10 12:58:33,480 - INFO - [raw sql] ()
2026-02-10 12:58:33,482 - INFO - COMMIT
2026-02-10 12:58:38,537 - INFO - Application startup complete.
2026-02-10 12:59:07,704 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\api\routes\file_upload.py", line 25, in upload_docs
    uploader = await upload.run(files)
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\services\file_service\file_uploader.py", line 87, in run
    await self.save_file_name(self.db,filename,unique_filename)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\services\file_service\file_uploader.py", line 137, in save_file_name
    db.add(new_file)
    ^^^^^^
AttributeError: 'Depends' object has no attribute 'add'
2026-02-10 12:59:07,762 - INFO - 2 changes detected
2026-02-10 13:00:02,622 - INFO - 1 change detected
2026-02-10 13:00:02,622 - WARNING - WatchFiles detected changes in 'api\deps\service_deps.py'. Reloading...
2026-02-10 13:00:02,636 - INFO - Shutting down
2026-02-10 13:00:02,755 - INFO - Waiting for application shutdown.
2026-02-10 13:00:02,763 - INFO - Application shutdown complete.
2026-02-10 13:00:02,765 - INFO - Finished server process [19460]
2026-02-10 13:00:03,861 - INFO - 1 change detected
2026-02-10 13:00:04,364 - INFO - 1 change detected
2026-02-10 13:00:04,364 - WARNING - WatchFiles detected changes in 'api\deps\service_deps.py'. Reloading...
2026-02-10 13:00:08,315 - INFO - Started server process [16632]
2026-02-10 13:00:08,315 - INFO - Waiting for application startup.
2026-02-10 13:00:08,322 - INFO - BEGIN (implicit)
2026-02-10 13:00:08,326 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-10 13:00:08,326 - INFO - [raw sql] ()
2026-02-10 13:00:08,329 - INFO - PRAGMA main.table_info("query_log")
2026-02-10 13:00:08,329 - INFO - [raw sql] ()
2026-02-10 13:00:08,332 - INFO - PRAGMA main.table_info("request_log")
2026-02-10 13:00:08,332 - INFO - [raw sql] ()
2026-02-10 13:00:08,334 - INFO - COMMIT
2026-02-10 13:00:13,445 - INFO - Application startup complete.
2026-02-10 13:00:13,454 - ERROR - Traceback (most recent call last):
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\_compat.py", line 30, in asyncio_run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2026-02-10 13:03:44,431 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-02-10 13:03:44,436 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-10 13:03:44,438 - INFO - Started reloader process [21788] using WatchFiles
2026-02-10 13:03:48,369 - INFO - Started server process [17544]
2026-02-10 13:03:48,369 - INFO - Waiting for application startup.
2026-02-10 13:03:48,382 - INFO - BEGIN (implicit)
2026-02-10 13:03:48,382 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-10 13:03:48,382 - INFO - [raw sql] ()
2026-02-10 13:03:48,385 - INFO - PRAGMA main.table_info("query_log")
2026-02-10 13:03:48,388 - INFO - [raw sql] ()
2026-02-10 13:03:48,390 - INFO - PRAGMA main.table_info("request_log")
2026-02-10 13:03:48,392 - INFO - [raw sql] ()
2026-02-10 13:03:48,394 - INFO - COMMIT
2026-02-10 13:03:53,586 - INFO - Application startup complete.
2026-02-10 13:04:10,270 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\api\routes\file_upload.py", line 25, in upload_docs
    uploader = await upload.run(files)
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\services\file_service\file_uploader.py", line 87, in run
    await self.save_file_name(self.db,filename,unique_filename)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\services\file_service\file_uploader.py", line 137, in save_file_name
    db.add(new_file)
    ^^^^^^
AttributeError: 'Depends' object has no attribute 'add'
2026-02-10 13:04:10,362 - INFO - 1 change detected
2026-02-10 13:04:32,430 - INFO - 1 change detected
2026-02-10 13:04:32,431 - WARNING - WatchFiles detected changes in 'api\deps\service_deps.py'. Reloading...
2026-02-10 13:04:32,493 - INFO - Shutting down
2026-02-10 13:04:32,606 - INFO - Waiting for application shutdown.
2026-02-10 13:04:32,613 - INFO - Application shutdown complete.
2026-02-10 13:04:32,617 - INFO - Finished server process [17544]
2026-02-10 13:04:33,531 - INFO - 1 change detected
2026-02-10 13:04:33,935 - INFO - 1 change detected
2026-02-10 13:04:33,935 - WARNING - WatchFiles detected changes in 'api\deps\service_deps.py'. Reloading...
2026-02-10 13:04:37,526 - INFO - 5 changes detected
2026-02-10 13:04:39,471 - INFO - 1 change detected
2026-02-10 13:04:39,471 - WARNING - WatchFiles detected changes in 'api\deps\service_deps.py'. Reloading...
2026-02-10 13:04:39,933 - INFO - Started server process [21024]
2026-02-10 13:04:39,933 - INFO - Waiting for application startup.
2026-02-10 13:04:39,941 - INFO - BEGIN (implicit)
2026-02-10 13:04:39,941 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-10 13:04:39,949 - INFO - [raw sql] ()
2026-02-10 13:04:39,953 - INFO - PRAGMA main.table_info("query_log")
2026-02-10 13:04:39,953 - INFO - [raw sql] ()
2026-02-10 13:04:39,956 - INFO - PRAGMA main.table_info("request_log")
2026-02-10 13:04:39,956 - INFO - [raw sql] ()
2026-02-10 13:04:39,960 - INFO - COMMIT
2026-02-10 13:04:45,429 - INFO - Application startup complete.
2026-02-10 13:04:45,439 - ERROR - Traceback (most recent call last):
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\_compat.py", line 30, in asyncio_run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2026-02-10 13:05:15,196 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-02-10 13:05:15,205 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-10 13:05:15,206 - INFO - Started reloader process [20704] using WatchFiles
2026-02-10 13:05:19,472 - INFO - Started server process [7428]
2026-02-10 13:05:19,476 - INFO - Waiting for application startup.
2026-02-10 13:05:19,487 - INFO - BEGIN (implicit)
2026-02-10 13:05:19,487 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-10 13:05:19,487 - INFO - [raw sql] ()
2026-02-10 13:05:19,492 - INFO - PRAGMA main.table_info("query_log")
2026-02-10 13:05:19,492 - INFO - [raw sql] ()
2026-02-10 13:05:19,494 - INFO - PRAGMA main.table_info("request_log")
2026-02-10 13:05:19,498 - INFO - [raw sql] ()
2026-02-10 13:05:19,501 - INFO - COMMIT
2026-02-10 13:05:25,006 - INFO - Application startup complete.
2026-02-10 13:05:36,971 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\api\routes\file_upload.py", line 25, in upload_docs
    uploader = await upload.run(files)
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\services\file_service\file_uploader.py", line 87, in run
    await self.save_file_name(self.db,filename,unique_filename)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\services\file_service\file_uploader.py", line 137, in save_file_name
    db.add(new_file)
    ^^^^^^
AttributeError: 'function' object has no attribute 'add'
2026-02-10 13:05:37,056 - INFO - 2 changes detected
2026-02-10 13:05:57,479 - INFO - 1 change detected
2026-02-10 13:05:57,479 - WARNING - WatchFiles detected changes in 'api\deps\service_deps.py'. Reloading...
2026-02-10 13:05:57,509 - INFO - Shutting down
2026-02-10 13:05:57,617 - INFO - Waiting for application shutdown.
2026-02-10 13:05:57,622 - INFO - Application shutdown complete.
2026-02-10 13:05:57,624 - INFO - Finished server process [7428]
2026-02-10 13:05:58,454 - INFO - 1 change detected
2026-02-10 13:05:59,026 - INFO - 1 change detected
2026-02-10 13:05:59,028 - WARNING - WatchFiles detected changes in 'api\deps\service_deps.py'. Reloading...
2026-02-10 13:06:01,783 - INFO - 5 changes detected
2026-02-10 13:06:03,394 - INFO - 1 change detected
2026-02-10 13:06:03,394 - WARNING - WatchFiles detected changes in 'api\deps\service_deps.py'. Reloading...
2026-02-10 13:06:03,605 - INFO - Started server process [17224]
2026-02-10 13:06:03,608 - INFO - Waiting for application startup.
2026-02-10 13:06:03,620 - INFO - BEGIN (implicit)
2026-02-10 13:06:03,620 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-10 13:06:03,620 - INFO - [raw sql] ()
2026-02-10 13:06:03,625 - INFO - PRAGMA main.table_info("query_log")
2026-02-10 13:06:03,625 - INFO - [raw sql] ()
2026-02-10 13:06:03,625 - INFO - PRAGMA main.table_info("request_log")
2026-02-10 13:06:03,632 - INFO - [raw sql] ()
2026-02-10 13:06:03,634 - INFO - COMMIT
2026-02-10 13:06:09,009 - INFO - Application startup complete.
2026-02-10 13:06:09,020 - ERROR - Traceback (most recent call last):
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\_compat.py", line 30, in asyncio_run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2026-02-10 13:06:35,723 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-02-10 13:06:35,731 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-10 13:06:35,731 - INFO - Started reloader process [13720] using WatchFiles
2026-02-10 13:06:41,018 - INFO - Started server process [20440]
2026-02-10 13:06:41,020 - INFO - Waiting for application startup.
2026-02-10 13:06:41,029 - INFO - BEGIN (implicit)
2026-02-10 13:06:41,029 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-10 13:06:41,029 - INFO - [raw sql] ()
2026-02-10 13:06:41,032 - INFO - PRAGMA main.table_info("query_log")
2026-02-10 13:06:41,035 - INFO - [raw sql] ()
2026-02-10 13:06:41,035 - INFO - PRAGMA main.table_info("request_log")
2026-02-10 13:06:41,035 - INFO - [raw sql] ()
2026-02-10 13:06:41,040 - INFO - COMMIT
2026-02-10 13:06:46,796 - INFO - Application startup complete.
2026-02-10 13:07:04,683 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 345, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\dependencies\utils.py", line 643, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\api\deps\service_deps.py", line 12, in get_uploader
    db:AsyncSession = await get_db()
                      ^^^^^^^^^^^^^^
TypeError: object async_generator can't be used in 'await' expression
2026-02-10 13:07:22,019 - INFO - 1 change detected
2026-02-10 13:07:22,021 - WARNING - WatchFiles detected changes in 'api\deps\service_deps.py'. Reloading...
2026-02-10 13:07:22,082 - INFO - Shutting down
2026-02-10 13:07:22,184 - INFO - Waiting for application shutdown.
2026-02-10 13:07:22,191 - INFO - Application shutdown complete.
2026-02-10 13:07:22,193 - INFO - Finished server process [20440]
2026-02-10 13:07:23,267 - INFO - 1 change detected
2026-02-10 13:07:24,561 - INFO - 1 change detected
2026-02-10 13:07:24,564 - WARNING - WatchFiles detected changes in 'api\deps\service_deps.py'. Reloading...
2026-02-10 13:07:27,501 - INFO - Started server process [13464]
2026-02-10 13:07:27,502 - INFO - Waiting for application startup.
2026-02-10 13:07:27,510 - INFO - BEGIN (implicit)
2026-02-10 13:07:27,510 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-10 13:07:27,511 - INFO - [raw sql] ()
2026-02-10 13:07:27,513 - INFO - PRAGMA main.table_info("query_log")
2026-02-10 13:07:27,513 - INFO - [raw sql] ()
2026-02-10 13:07:27,515 - INFO - PRAGMA main.table_info("request_log")
2026-02-10 13:07:27,515 - INFO - [raw sql] ()
2026-02-10 13:07:27,518 - INFO - COMMIT
2026-02-10 13:07:32,585 - INFO - Application startup complete.
2026-02-10 13:07:32,594 - ERROR - Traceback (most recent call last):
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\_compat.py", line 30, in asyncio_run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2026-02-10 13:11:06,783 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-02-10 13:11:06,784 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-10 13:11:06,786 - INFO - Started reloader process [10052] using WatchFiles
2026-02-10 13:11:09,163 - INFO - Started server process [6036]
2026-02-10 13:11:09,165 - INFO - Waiting for application startup.
2026-02-10 13:11:09,169 - INFO - BEGIN (implicit)
2026-02-10 13:11:09,171 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-10 13:11:09,171 - INFO - [raw sql] ()
2026-02-10 13:11:09,172 - INFO - PRAGMA main.table_info("query_log")
2026-02-10 13:11:09,173 - INFO - [raw sql] ()
2026-02-10 13:11:09,174 - INFO - PRAGMA main.table_info("request_log")
2026-02-10 13:11:09,175 - INFO - [raw sql] ()
2026-02-10 13:11:09,177 - INFO - COMMIT
2026-02-10 13:11:14,013 - INFO - Application startup complete.
2026-02-10 13:11:48,738 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\api\routes\file_upload.py", line 25, in upload_docs
    uploader = await upload.run(files)
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\services\file_service\file_uploader.py", line 56, in run
    validate_file = await self.validate_file(file)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\services\file_service\file_uploader.py", line 110, in validate_file
    result["error"].append(f"The file extension {file_ext} not allowed")
    ~~~~~~^^^^^^^^^
KeyError: 'error'
2026-02-10 13:12:35,039 - INFO - 1 change detected
2026-02-10 13:12:35,039 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-10 13:12:35,114 - INFO - Shutting down
2026-02-10 13:12:35,253 - INFO - Waiting for application shutdown.
2026-02-10 13:12:35,256 - INFO - Application shutdown complete.
2026-02-10 13:12:35,257 - INFO - Finished server process [6036]
2026-02-10 13:12:35,882 - INFO - 1 change detected
2026-02-10 13:12:36,948 - INFO - 5 changes detected
2026-02-10 13:12:38,232 - INFO - Started server process [20200]
2026-02-10 13:12:38,234 - INFO - Waiting for application startup.
2026-02-10 13:12:38,240 - INFO - BEGIN (implicit)
2026-02-10 13:12:38,240 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-10 13:12:38,241 - INFO - [raw sql] ()
2026-02-10 13:12:38,245 - INFO - PRAGMA main.table_info("query_log")
2026-02-10 13:12:38,245 - INFO - [raw sql] ()
2026-02-10 13:12:38,247 - INFO - PRAGMA main.table_info("request_log")
2026-02-10 13:12:38,248 - INFO - [raw sql] ()
2026-02-10 13:12:38,250 - INFO - COMMIT
2026-02-10 13:12:38,962 - INFO - 1 change detected
2026-02-10 13:12:38,962 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-10 13:12:43,016 - INFO - Application startup complete.
2026-02-10 13:12:43,022 - ERROR - Traceback (most recent call last):
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\_compat.py", line 30, in asyncio_run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2026-02-10 13:14:44,756 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-02-10 13:14:44,760 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-10 13:14:44,762 - INFO - Started reloader process [11752] using WatchFiles
2026-02-10 13:14:50,328 - INFO - Started server process [20516]
2026-02-10 13:14:50,330 - INFO - Waiting for application startup.
2026-02-10 13:14:50,337 - INFO - BEGIN (implicit)
2026-02-10 13:14:50,338 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-10 13:14:50,338 - INFO - [raw sql] ()
2026-02-10 13:14:50,341 - INFO - PRAGMA main.table_info("query_log")
2026-02-10 13:14:50,341 - INFO - [raw sql] ()
2026-02-10 13:14:50,342 - INFO - PRAGMA main.table_info("request_log")
2026-02-10 13:14:50,344 - INFO - [raw sql] ()
2026-02-10 13:14:50,346 - INFO - COMMIT
2026-02-10 13:14:55,277 - INFO - Application startup complete.
2026-02-10 13:15:11,725 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 215, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation error:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [{'filename': 'ONYE INYEAKAM ( My Helper).mp3', 'success': False, 'errors': []}]}

  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\api\routes\file_upload.py", line 13, in upload_docs
    POST /upload-docs
2026-02-10 13:16:38,518 - INFO - 1 change detected
2026-02-10 13:16:38,520 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-10 13:16:38,578 - INFO - Shutting down
2026-02-10 13:16:38,688 - INFO - Waiting for application shutdown.
2026-02-10 13:16:38,690 - INFO - Application shutdown complete.
2026-02-10 13:16:38,691 - INFO - Finished server process [20516]
2026-02-10 13:16:39,445 - INFO - 1 change detected
2026-02-10 13:16:40,102 - INFO - 1 change detected
2026-02-10 13:16:40,102 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-10 13:16:41,905 - INFO - Started server process [12124]
2026-02-10 13:16:41,908 - INFO - Waiting for application startup.
2026-02-10 13:16:41,913 - INFO - BEGIN (implicit)
2026-02-10 13:16:41,914 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-10 13:16:41,914 - INFO - [raw sql] ()
2026-02-10 13:16:41,917 - INFO - PRAGMA main.table_info("query_log")
2026-02-10 13:16:41,917 - INFO - [raw sql] ()
2026-02-10 13:16:41,919 - INFO - PRAGMA main.table_info("request_log")
2026-02-10 13:16:41,919 - INFO - [raw sql] ()
2026-02-10 13:16:41,921 - INFO - COMMIT
2026-02-10 13:16:46,762 - INFO - Application startup complete.
2026-02-10 13:16:46,767 - ERROR - Traceback (most recent call last):
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\_compat.py", line 30, in asyncio_run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2026-02-10 13:22:55,181 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-02-10 13:22:55,183 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-10 13:22:55,183 - INFO - Started reloader process [1940] using WatchFiles
2026-02-10 13:22:57,862 - INFO - Started server process [3104]
2026-02-10 13:22:57,865 - INFO - Waiting for application startup.
2026-02-10 13:22:57,869 - INFO - BEGIN (implicit)
2026-02-10 13:22:57,870 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-10 13:22:57,870 - INFO - [raw sql] ()
2026-02-10 13:22:57,872 - INFO - PRAGMA main.table_info("query_log")
2026-02-10 13:22:57,873 - INFO - [raw sql] ()
2026-02-10 13:22:57,875 - INFO - PRAGMA main.table_info("request_log")
2026-02-10 13:22:57,875 - INFO - [raw sql] ()
2026-02-10 13:22:57,877 - INFO - COMMIT
2026-02-10 13:23:02,665 - INFO - Application startup complete.
2026-02-10 13:23:12,492 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 215, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation error:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [{'filename': 'ONYE INYEAKAM ( My Helper).mp3', 'success': False, 'errors': 'The file extension .mp3 not allowed'}]}

  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\api\routes\file_upload.py", line 13, in upload_docs
    POST /upload-docs
2026-02-10 13:26:15,652 - INFO - 1 change detected
2026-02-10 13:26:15,655 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-10 13:26:15,709 - INFO - Shutting down
2026-02-10 13:26:15,820 - INFO - Waiting for application shutdown.
2026-02-10 13:26:15,828 - INFO - Application shutdown complete.
2026-02-10 13:26:15,831 - INFO - Finished server process [3104]
2026-02-10 13:26:16,501 - INFO - 1 change detected
2026-02-10 13:26:17,313 - INFO - 5 changes detected
2026-02-10 13:26:19,097 - INFO - Started server process [6224]
2026-02-10 13:26:19,100 - INFO - Waiting for application startup.
2026-02-10 13:26:19,108 - INFO - BEGIN (implicit)
2026-02-10 13:26:19,109 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-10 13:26:19,109 - INFO - [raw sql] ()
2026-02-10 13:26:19,113 - INFO - PRAGMA main.table_info("query_log")
2026-02-10 13:26:19,113 - INFO - [raw sql] ()
2026-02-10 13:26:19,115 - INFO - PRAGMA main.table_info("request_log")
2026-02-10 13:26:19,115 - INFO - [raw sql] ()
2026-02-10 13:26:19,118 - INFO - COMMIT
2026-02-10 13:26:24,259 - INFO - Application startup complete.
2026-02-10 15:12:01,347 - INFO - 1 change detected
2026-02-10 15:12:01,347 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-10 15:12:01,391 - INFO - Shutting down
2026-02-10 15:12:01,499 - INFO - Waiting for application shutdown.
2026-02-10 15:12:01,514 - INFO - Application shutdown complete.
2026-02-10 15:12:01,517 - INFO - Finished server process [6224]
2026-02-10 15:12:02,258 - INFO - 1 change detected
2026-02-10 15:12:05,684 - INFO - 6 changes detected
2026-02-10 15:12:05,684 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-10 15:12:09,066 - INFO - Started server process [23424]
2026-02-10 15:12:09,067 - INFO - Waiting for application startup.
2026-02-10 15:12:09,075 - INFO - BEGIN (implicit)
2026-02-10 15:12:09,075 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-10 15:12:09,076 - INFO - [raw sql] ()
2026-02-10 15:12:09,077 - INFO - PRAGMA main.table_info("query_log")
2026-02-10 15:12:09,077 - INFO - [raw sql] ()
2026-02-10 15:12:09,078 - INFO - PRAGMA main.table_info("request_log")
2026-02-10 15:12:09,079 - INFO - [raw sql] ()
2026-02-10 15:12:09,080 - INFO - COMMIT
2026-02-10 15:12:14,021 - INFO - Application startup complete.
2026-02-10 15:12:14,129 - ERROR - Traceback (most recent call last):
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\_compat.py", line 30, in asyncio_run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2026-02-10 15:13:40,414 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-02-10 15:13:40,416 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-10 15:13:40,419 - INFO - Started reloader process [7640] using WatchFiles
2026-02-10 15:13:42,834 - INFO - Started server process [6836]
2026-02-10 15:13:42,835 - INFO - Waiting for application startup.
2026-02-10 15:13:42,839 - INFO - BEGIN (implicit)
2026-02-10 15:13:42,839 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-10 15:13:42,840 - INFO - [raw sql] ()
2026-02-10 15:13:42,842 - INFO - PRAGMA main.table_info("query_log")
2026-02-10 15:13:42,842 - INFO - [raw sql] ()
2026-02-10 15:13:42,843 - INFO - PRAGMA main.table_info("request_log")
2026-02-10 15:13:42,844 - INFO - [raw sql] ()
2026-02-10 15:13:42,844 - INFO - COMMIT
2026-02-10 15:13:47,613 - INFO - Application startup complete.
2026-02-10 15:14:16,704 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\api\routes\file_upload.py", line 22, in upload_docs
    uploader = await upload.run(files)
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\services\file_service\file_uploader.py", line 63, in run
    if not validate_file["valid"]:
           ~~~~~~~~~~~~~^^^^^^^^^
KeyError: 'valid'
2026-02-11 06:42:31,776 - INFO - 1 change detected
2026-02-11 06:42:31,802 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-11 06:42:31,848 - INFO - Shutting down
2026-02-11 06:42:31,972 - INFO - Waiting for application shutdown.
2026-02-11 06:42:32,000 - INFO - Application shutdown complete.
2026-02-11 06:42:32,001 - INFO - Finished server process [6836]
2026-02-11 06:42:32,801 - INFO - 1 change detected
2026-02-11 06:42:34,515 - INFO - 5 changes detected
2026-02-11 06:42:37,546 - INFO - Started server process [14636]
2026-02-11 06:42:37,548 - INFO - Waiting for application startup.
2026-02-11 06:42:37,559 - INFO - BEGIN (implicit)
2026-02-11 06:42:37,559 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-11 06:42:37,560 - INFO - [raw sql] ()
2026-02-11 06:42:37,563 - INFO - PRAGMA main.table_info("query_log")
2026-02-11 06:42:37,564 - INFO - [raw sql] ()
2026-02-11 06:42:37,566 - INFO - PRAGMA main.table_info("request_log")
2026-02-11 06:42:37,567 - INFO - [raw sql] ()
2026-02-11 06:42:37,570 - INFO - COMMIT
2026-02-11 06:42:39,446 - INFO - 1 change detected
2026-02-11 06:42:39,446 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-11 06:42:43,100 - INFO - Application startup complete.
2026-02-11 06:42:43,222 - ERROR - Traceback (most recent call last):
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\_compat.py", line 30, in asyncio_run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2026-02-11 06:49:09,277 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-02-11 06:49:09,281 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-11 06:49:09,282 - INFO - Started reloader process [7504] using WatchFiles
2026-02-11 06:49:12,441 - INFO - Started server process [9440]
2026-02-11 06:49:12,443 - INFO - Waiting for application startup.
2026-02-11 06:49:12,450 - INFO - BEGIN (implicit)
2026-02-11 06:49:12,451 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-11 06:49:12,451 - INFO - [raw sql] ()
2026-02-11 06:49:12,454 - INFO - PRAGMA main.table_info("query_log")
2026-02-11 06:49:12,455 - INFO - [raw sql] ()
2026-02-11 06:49:12,456 - INFO - PRAGMA main.table_info("request_log")
2026-02-11 06:49:12,458 - INFO - [raw sql] ()
2026-02-11 06:49:12,460 - INFO - COMMIT
2026-02-11 06:49:17,428 - INFO - Application startup complete.
2026-02-11 06:50:07,637 - INFO - 1 change detected
2026-02-11 06:50:07,560 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\api\routes\file_upload.py", line 22, in upload_docs
    uploader = await upload.run(files)
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\services\file_service\file_uploader.py", line 87, in run
    await self.save_file_name(self.db,filename,unique_filename)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\services\file_service\file_uploader.py", line 128, in save_file_name
    db.add(new_file)
    ^^^^^^
AttributeError: 'function' object has no attribute 'add'
2026-02-11 06:50:27,157 - INFO - 1 change detected
2026-02-11 06:57:46,464 - INFO - 1 change detected
2026-02-11 06:57:46,464 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-11 06:57:46,534 - INFO - Shutting down
2026-02-11 06:57:46,644 - INFO - Waiting for application shutdown.
2026-02-11 06:57:46,646 - INFO - Application shutdown complete.
2026-02-11 06:57:46,647 - INFO - Finished server process [9440]
2026-02-11 06:57:47,257 - INFO - 1 change detected
2026-02-11 06:57:47,920 - INFO - 5 changes detected
2026-02-11 06:57:49,732 - INFO - Started server process [6848]
2026-02-11 06:57:49,733 - INFO - Waiting for application startup.
2026-02-11 06:57:49,738 - INFO - BEGIN (implicit)
2026-02-11 06:57:49,738 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-11 06:57:49,738 - INFO - [raw sql] ()
2026-02-11 06:57:49,741 - INFO - PRAGMA main.table_info("query_log")
2026-02-11 06:57:49,742 - INFO - [raw sql] ()
2026-02-11 06:57:49,743 - INFO - PRAGMA main.table_info("request_log")
2026-02-11 06:57:49,743 - INFO - [raw sql] ()
2026-02-11 06:57:49,745 - INFO - COMMIT
2026-02-11 06:57:54,518 - INFO - Application startup complete.
2026-02-11 06:57:56,100 - INFO - 1 change detected
2026-02-11 06:57:56,101 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-11 06:57:56,153 - INFO - Shutting down
2026-02-11 06:57:56,261 - INFO - Waiting for application shutdown.
2026-02-11 06:57:56,298 - INFO - Application shutdown complete.
2026-02-11 06:57:56,358 - INFO - Finished server process [6848]
2026-02-11 06:57:57,145 - INFO - 1 change detected
2026-02-11 06:57:57,506 - INFO - 1 change detected
2026-02-11 06:57:57,507 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-11 06:57:58,992 - INFO - 5 changes detected
2026-02-11 06:58:00,530 - INFO - Started server process [14500]
2026-02-11 06:58:00,532 - INFO - Waiting for application startup.
2026-02-11 06:58:00,536 - INFO - BEGIN (implicit)
2026-02-11 06:58:00,536 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-11 06:58:00,537 - INFO - [raw sql] ()
2026-02-11 06:58:00,539 - INFO - PRAGMA main.table_info("query_log")
2026-02-11 06:58:00,540 - INFO - [raw sql] ()
2026-02-11 06:58:00,541 - INFO - PRAGMA main.table_info("request_log")
2026-02-11 06:58:00,542 - INFO - [raw sql] ()
2026-02-11 06:58:00,544 - INFO - COMMIT
2026-02-11 06:58:05,423 - INFO - Application startup complete.
2026-02-11 06:59:20,474 - INFO - 1 change detected
2026-02-11 06:59:20,474 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-11 06:59:20,559 - INFO - Shutting down
2026-02-11 06:59:20,669 - INFO - Waiting for application shutdown.
2026-02-11 06:59:20,674 - INFO - Application shutdown complete.
2026-02-11 06:59:20,676 - INFO - Finished server process [14500]
2026-02-11 06:59:21,347 - INFO - 1 change detected
2026-02-11 06:59:22,560 - INFO - 1 change detected
2026-02-11 06:59:22,560 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-11 06:59:24,632 - INFO - 1 change detected
2026-02-11 06:59:24,632 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-11 06:59:25,860 - INFO - 5 changes detected
2026-02-11 06:59:26,218 - INFO - 1 change detected
2026-02-11 06:59:26,218 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-11 06:59:27,498 - INFO - Started server process [20900]
2026-02-11 06:59:27,499 - INFO - Waiting for application startup.
2026-02-11 06:59:27,504 - INFO - BEGIN (implicit)
2026-02-11 06:59:27,505 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-11 06:59:27,505 - INFO - [raw sql] ()
2026-02-11 06:59:27,507 - INFO - PRAGMA main.table_info("query_log")
2026-02-11 06:59:27,508 - INFO - [raw sql] ()
2026-02-11 06:59:27,509 - INFO - PRAGMA main.table_info("request_log")
2026-02-11 06:59:27,511 - INFO - [raw sql] ()
2026-02-11 06:59:27,513 - INFO - COMMIT
2026-02-11 06:59:32,645 - INFO - Application startup complete.
2026-02-11 06:59:32,651 - ERROR - Traceback (most recent call last):
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\_compat.py", line 30, in asyncio_run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2026-02-11 19:05:09,353 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-02-11 19:05:09,355 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-11 19:05:09,357 - INFO - Started reloader process [23640] using WatchFiles
2026-02-11 19:05:12,274 - INFO - Started server process [23200]
2026-02-11 19:05:12,276 - INFO - Waiting for application startup.
2026-02-11 19:05:12,283 - INFO - BEGIN (implicit)
2026-02-11 19:05:12,284 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-11 19:05:12,284 - INFO - [raw sql] ()
2026-02-11 19:05:12,287 - INFO - PRAGMA main.table_info("query_log")
2026-02-11 19:05:12,287 - INFO - [raw sql] ()
2026-02-11 19:05:12,288 - INFO - PRAGMA main.table_info("request_log")
2026-02-11 19:05:12,288 - INFO - [raw sql] ()
2026-02-11 19:05:12,292 - INFO - COMMIT
2026-02-11 19:05:12,300 - ERROR - Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 694, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\core\lifespan.py", line 12, in lifespan
    app.state.db_engine = async_engine
                          ^^^^^^^^^^^^
NameError: name 'async_engine' is not defined

2026-02-11 19:05:12,303 - ERROR - Application startup failed. Exiting.
2026-02-12 12:50:56,255 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-02-12 12:50:56,257 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-12 12:50:56,258 - INFO - Started reloader process [16316] using WatchFiles
2026-02-12 12:50:59,136 - INFO - Started server process [22760]
2026-02-12 12:50:59,138 - INFO - Waiting for application startup.
2026-02-12 12:50:59,154 - INFO - BEGIN (implicit)
2026-02-12 12:50:59,155 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-12 12:50:59,155 - INFO - [raw sql] ()
2026-02-12 12:50:59,159 - INFO - PRAGMA main.table_info("query_log")
2026-02-12 12:50:59,159 - INFO - [raw sql] ()
2026-02-12 12:50:59,162 - INFO - PRAGMA main.table_info("request_log")
2026-02-12 12:50:59,162 - INFO - [raw sql] ()
2026-02-12 12:50:59,164 - INFO - COMMIT
2026-02-12 12:50:59,244 - ERROR - Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 694, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 153, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\core\lifespan.py", line 12, in lifespan
    app.state.db_engine = async_engine
                          ^^^^^^^^^^^^
NameError: name 'async_engine' is not defined

2026-02-12 12:50:59,247 - ERROR - Application startup failed. Exiting.
2026-02-12 12:51:26,754 - INFO - 1 change detected
2026-02-12 12:51:26,754 - WARNING - WatchFiles detected changes in 'core\lifespan.py'. Reloading...
2026-02-12 12:59:36,227 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-02-12 12:59:36,229 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-12 12:59:36,230 - INFO - Started reloader process [24228] using WatchFiles
2026-02-12 12:59:38,951 - INFO - Started server process [12532]
2026-02-12 12:59:38,952 - INFO - Waiting for application startup.
2026-02-12 12:59:38,956 - INFO - BEGIN (implicit)
2026-02-12 12:59:38,956 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-12 12:59:38,958 - INFO - [raw sql] ()
2026-02-12 12:59:38,959 - INFO - PRAGMA main.table_info("query_log")
2026-02-12 12:59:38,960 - INFO - [raw sql] ()
2026-02-12 12:59:38,962 - INFO - PRAGMA main.table_info("request_log")
2026-02-12 12:59:38,962 - INFO - [raw sql] ()
2026-02-12 12:59:38,965 - INFO - COMMIT
2026-02-12 12:59:43,883 - INFO - Application startup complete.
2026-02-12 13:21:04,756 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 215, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation error:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [{'filename': 'Just do it.mp4', 'success': False, 'errors': 'The file extension .mp4 not allowed'}]}

  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\api\routes\file_upload.py", line 12, in upload_docs
    POST /upload-docs
2026-02-12 13:21:53,244 - INFO - 1 change detected
2026-02-12 13:21:53,603 - INFO - 1 change detected
2026-02-12 13:21:54,014 - INFO - 1 change detected
2026-02-12 13:21:54,371 - INFO - 1 change detected
2026-02-12 13:21:54,732 - INFO - 1 change detected
2026-02-12 13:21:55,141 - INFO - 1 change detected
2026-02-12 13:21:55,547 - INFO - 1 change detected
2026-02-12 13:21:55,902 - INFO - 1 change detected
2026-02-12 13:21:56,314 - INFO - 1 change detected
2026-02-12 13:21:56,725 - INFO - 1 change detected
2026-02-12 13:21:57,135 - INFO - 1 change detected
2026-02-12 13:21:57,540 - INFO - 1 change detected
2026-02-12 13:21:57,944 - INFO - 1 change detected
2026-02-12 13:21:58,299 - INFO - 1 change detected
2026-02-12 13:22:02,040 - INFO - 1 change detected
2026-02-12 13:22:02,395 - INFO - 1 change detected
2026-02-12 13:22:02,755 - INFO - 1 change detected
2026-02-12 13:22:03,114 - INFO - 1 change detected
2026-02-12 13:22:03,476 - INFO - 1 change detected
2026-02-12 13:22:03,884 - INFO - 1 change detected
2026-02-12 13:22:04,290 - INFO - 1 change detected
2026-02-12 13:22:04,695 - INFO - 1 change detected
2026-02-12 13:22:05,105 - INFO - 1 change detected
2026-02-12 13:22:05,514 - INFO - 1 change detected
2026-02-12 13:22:05,918 - INFO - 1 change detected
2026-02-12 13:22:06,321 - INFO - 1 change detected
2026-02-12 13:22:06,728 - INFO - 1 change detected
2026-02-12 13:22:07,082 - INFO - 1 change detected
2026-02-12 13:22:07,494 - INFO - 1 change detected
2026-02-12 13:22:07,898 - INFO - 1 change detected
2026-02-12 13:22:08,253 - INFO - 8 changes detected
2026-02-12 13:22:08,615 - INFO - 1 change detected
2026-02-12 13:22:08,972 - INFO - 1 change detected
2026-02-12 13:22:09,328 - INFO - 1 change detected
2026-02-12 13:22:09,687 - INFO - 1 change detected
2026-02-12 13:22:10,094 - INFO - 1 change detected
2026-02-12 13:22:10,502 - INFO - 1 change detected
2026-02-12 13:22:10,909 - INFO - 1 change detected
2026-02-12 13:22:11,316 - INFO - 1 change detected
2026-02-12 13:22:11,725 - INFO - 1 change detected
2026-02-12 13:22:12,131 - INFO - 1 change detected
2026-02-12 13:22:12,550 - INFO - 1 change detected
2026-02-12 13:22:12,958 - INFO - 1 change detected
2026-02-12 13:22:13,368 - INFO - 1 change detected
2026-02-12 13:22:13,777 - INFO - 1 change detected
2026-02-12 13:22:14,182 - INFO - 1 change detected
2026-02-12 13:22:14,591 - INFO - 1 change detected
2026-02-12 13:22:15,002 - INFO - 1 change detected
2026-02-12 13:22:15,410 - INFO - 1 change detected
2026-02-12 13:22:15,814 - INFO - 1 change detected
2026-02-12 13:22:16,219 - INFO - 1 change detected
2026-02-12 13:22:16,624 - INFO - 1 change detected
2026-02-12 13:22:17,030 - INFO - 1 change detected
2026-02-12 13:22:17,435 - INFO - 1 change detected
2026-02-12 13:22:17,795 - INFO - 1 change detected
2026-02-12 13:22:18,203 - INFO - 1 change detected
2026-02-12 13:22:18,612 - INFO - 1 change detected
2026-02-12 13:22:19,017 - INFO - 1 change detected
2026-02-12 13:22:19,422 - INFO - 1 change detected
2026-02-12 13:22:19,831 - INFO - 1 change detected
2026-02-12 13:22:20,233 - INFO - 1 change detected
2026-02-12 13:22:20,640 - INFO - 1 change detected
2026-02-12 13:22:21,045 - INFO - 1 change detected
2026-02-12 13:22:21,452 - INFO - 1 change detected
2026-02-12 13:22:21,858 - INFO - 1 change detected
2026-02-12 13:22:22,260 - INFO - 1 change detected
2026-02-12 13:22:22,670 - INFO - 1 change detected
2026-02-12 13:22:23,029 - INFO - 1 change detected
2026-02-12 13:22:23,442 - INFO - 1 change detected
2026-02-12 13:22:23,898 - INFO - 1 change detected
2026-02-12 13:22:24,316 - INFO - 1 change detected
2026-02-12 13:22:24,670 - INFO - 1 change detected
2026-02-12 13:22:25,078 - INFO - 1 change detected
2026-02-12 13:22:25,486 - INFO - 1 change detected
2026-02-12 13:22:25,892 - INFO - 1 change detected
2026-02-12 13:22:26,299 - INFO - 1 change detected
2026-02-12 13:22:26,709 - INFO - 1 change detected
2026-02-12 13:22:27,115 - INFO - 1 change detected
2026-02-12 13:22:27,519 - INFO - 1 change detected
2026-02-12 13:22:27,925 - INFO - 1 change detected
2026-02-12 13:22:28,335 - INFO - 1 change detected
2026-02-12 13:22:28,994 - INFO - 1 change detected
2026-02-12 13:22:29,349 - INFO - 1 change detected
2026-02-12 13:22:29,711 - INFO - 1 change detected
2026-02-12 13:22:30,123 - INFO - 1 change detected
2026-02-12 13:22:30,529 - INFO - 1 change detected
2026-02-12 13:22:30,932 - INFO - 1 change detected
2026-02-12 13:22:31,288 - INFO - 1 change detected
2026-02-12 13:22:31,698 - INFO - 1 change detected
2026-02-12 13:22:32,104 - INFO - 1 change detected
2026-02-12 13:22:32,511 - INFO - 1 change detected
2026-02-12 13:22:32,917 - INFO - 1 change detected
2026-02-12 13:22:33,323 - INFO - 1 change detected
2026-02-12 13:22:33,730 - INFO - 1 change detected
2026-02-12 13:22:34,139 - INFO - 1 change detected
2026-02-12 13:22:34,548 - INFO - 1 change detected
2026-02-12 13:22:34,955 - INFO - 1 change detected
2026-02-12 13:22:35,362 - INFO - 1 change detected
2026-02-12 13:22:35,721 - INFO - 1 change detected
2026-02-12 13:22:36,132 - INFO - 1 change detected
2026-02-12 13:22:36,538 - INFO - 1 change detected
2026-02-12 13:22:36,945 - INFO - 1 change detected
2026-02-12 13:22:37,352 - INFO - 1 change detected
2026-02-12 13:22:37,759 - INFO - 1 change detected
2026-02-12 13:22:38,166 - INFO - 1 change detected
2026-02-12 13:22:38,570 - INFO - 1 change detected
2026-02-12 13:22:38,975 - INFO - 1 change detected
2026-02-12 13:22:39,390 - INFO - 1 change detected
2026-02-12 13:22:39,798 - INFO - 1 change detected
2026-02-12 13:22:40,156 - INFO - 1 change detected
2026-02-12 13:22:40,559 - INFO - 1 change detected
2026-02-12 13:22:40,967 - INFO - 1 change detected
2026-02-12 13:22:41,371 - INFO - 1 change detected
2026-02-12 13:22:41,776 - INFO - 1 change detected
2026-02-12 13:22:42,184 - INFO - 1 change detected
2026-02-12 13:22:42,590 - INFO - 1 change detected
2026-02-12 13:22:43,002 - INFO - 1 change detected
2026-02-12 13:22:43,409 - INFO - 1 change detected
2026-02-12 13:22:43,817 - INFO - 1 change detected
2026-02-12 13:22:44,236 - INFO - 1 change detected
2026-02-12 13:22:44,642 - INFO - 1 change detected
2026-02-12 13:22:45,047 - INFO - 1 change detected
2026-02-12 13:22:45,402 - INFO - 1 change detected
2026-02-12 13:22:45,811 - INFO - 1 change detected
2026-02-12 13:22:46,218 - INFO - 1 change detected
2026-02-12 13:22:46,627 - INFO - 1 change detected
2026-02-12 13:22:47,033 - INFO - 1 change detected
2026-02-12 13:22:47,438 - INFO - 1 change detected
2026-02-12 13:22:47,842 - INFO - 1 change detected
2026-02-12 13:22:48,245 - INFO - 1 change detected
2026-02-12 13:22:48,648 - INFO - 1 change detected
2026-02-12 13:22:49,053 - INFO - 1 change detected
2026-02-12 13:22:49,454 - INFO - 1 change detected
2026-02-12 13:22:49,856 - INFO - 1 change detected
2026-02-12 13:22:50,265 - INFO - 1 change detected
2026-02-12 13:22:50,621 - INFO - 1 change detected
2026-02-12 13:22:51,032 - INFO - 1 change detected
2026-02-12 13:22:51,440 - INFO - 1 change detected
2026-02-12 13:22:51,891 - INFO - 1 change detected
2026-02-12 13:22:52,296 - INFO - 1 change detected
2026-02-12 13:22:52,651 - INFO - 1 change detected
2026-02-12 13:22:53,064 - INFO - 1 change detected
2026-02-12 13:22:53,472 - INFO - 1 change detected
2026-02-12 13:22:53,878 - INFO - 1 change detected
2026-02-12 13:22:54,285 - INFO - 1 change detected
2026-02-12 13:22:54,690 - INFO - 1 change detected
2026-02-12 13:22:55,098 - INFO - 1 change detected
2026-02-12 13:22:55,508 - INFO - 1 change detected
2026-02-12 13:22:55,913 - INFO - 1 change detected
2026-02-12 13:22:56,320 - INFO - 1 change detected
2026-02-12 13:22:56,725 - INFO - 1 change detected
2026-02-12 13:22:57,129 - INFO - 1 change detected
2026-02-12 13:22:57,535 - INFO - 1 change detected
2026-02-12 13:22:57,939 - INFO - 1 change detected
2026-02-12 13:22:58,294 - INFO - 1 change detected
2026-02-12 13:22:58,708 - INFO - 1 change detected
2026-02-12 13:22:59,115 - INFO - 1 change detected
2026-02-12 13:22:59,520 - INFO - 1 change detected
2026-02-12 13:22:59,886 - INFO - 1 change detected
2026-02-12 13:23:00,293 - INFO - 1 change detected
2026-02-12 13:23:00,702 - INFO - 1 change detected
2026-02-12 13:23:01,110 - INFO - 1 change detected
2026-02-12 13:23:01,467 - INFO - 1 change detected
2026-02-12 13:23:01,872 - INFO - 1 change detected
2026-02-12 13:23:02,277 - INFO - 1 change detected
2026-02-12 13:23:02,682 - INFO - 1 change detected
2026-02-12 13:23:03,088 - INFO - 1 change detected
2026-02-12 13:23:03,496 - INFO - 1 change detected
2026-02-12 13:23:04,031 - INFO - 1 change detected
2026-02-12 13:23:04,435 - INFO - 1 change detected
2026-02-12 13:23:04,842 - INFO - 1 change detected
2026-02-12 13:23:05,286 - INFO - 1 change detected
2026-02-12 13:23:05,697 - INFO - 1 change detected
2026-02-12 13:23:06,104 - INFO - 1 change detected
2026-02-12 13:23:06,520 - INFO - 1 change detected
2026-02-12 13:23:06,883 - INFO - 1 change detected
2026-02-12 13:23:07,295 - INFO - 1 change detected
2026-02-12 13:23:07,700 - INFO - 1 change detected
2026-02-12 13:23:08,104 - INFO - 1 change detected
2026-02-12 13:23:08,509 - INFO - 1 change detected
2026-02-12 13:23:08,916 - INFO - 1 change detected
2026-02-12 13:23:09,322 - INFO - 1 change detected
2026-02-12 13:23:09,726 - INFO - 1 change detected
2026-02-12 13:23:10,134 - INFO - 1 change detected
2026-02-12 13:23:10,542 - INFO - 1 change detected
2026-02-12 13:23:10,948 - INFO - 1 change detected
2026-02-12 13:23:11,353 - INFO - 1 change detected
2026-02-12 13:23:11,758 - INFO - 1 change detected
2026-02-12 13:23:12,166 - INFO - 1 change detected
2026-02-12 13:23:12,573 - INFO - 1 change detected
2026-02-12 13:23:12,976 - INFO - 1 change detected
2026-02-12 13:23:13,384 - INFO - 1 change detected
2026-02-12 13:23:13,789 - INFO - 1 change detected
2026-02-12 13:23:14,196 - INFO - 1 change detected
2026-02-12 13:23:14,600 - INFO - 1 change detected
2026-02-12 13:23:15,014 - INFO - 1 change detected
2026-02-12 13:23:15,375 - INFO - 1 change detected
2026-02-12 13:23:15,786 - INFO - 1 change detected
2026-02-12 13:23:16,203 - INFO - 1 change detected
2026-02-12 13:23:16,611 - INFO - 1 change detected
2026-02-12 13:23:17,017 - INFO - 1 change detected
2026-02-12 13:23:17,421 - INFO - 1 change detected
2026-02-12 13:23:17,830 - INFO - 1 change detected
2026-02-12 13:23:18,239 - INFO - 1 change detected
2026-02-12 13:23:18,644 - INFO - 1 change detected
2026-02-12 13:23:19,001 - INFO - 1 change detected
2026-02-12 13:23:19,412 - INFO - 1 change detected
2026-02-12 13:23:19,820 - INFO - 1 change detected
2026-02-12 13:23:20,227 - INFO - 1 change detected
2026-02-12 13:23:20,634 - INFO - 1 change detected
2026-02-12 13:23:21,039 - INFO - 1 change detected
2026-02-12 13:23:21,444 - INFO - 1 change detected
2026-02-12 13:23:21,851 - INFO - 1 change detected
2026-02-12 13:23:22,258 - INFO - 1 change detected
2026-02-12 13:23:22,664 - INFO - 1 change detected
2026-02-12 13:23:23,068 - INFO - 1 change detected
2026-02-12 13:23:23,476 - INFO - 1 change detected
2026-02-12 13:23:23,880 - INFO - 1 change detected
2026-02-12 13:23:24,287 - INFO - 1 change detected
2026-02-12 13:23:24,694 - INFO - 1 change detected
2026-02-12 13:23:25,103 - INFO - 1 change detected
2026-02-12 13:23:25,507 - INFO - 1 change detected
2026-02-12 13:23:25,911 - INFO - 1 change detected
2026-02-12 13:23:26,316 - INFO - 1 change detected
2026-02-12 13:23:26,718 - INFO - 1 change detected
2026-02-12 13:23:27,076 - INFO - 1 change detected
2026-02-12 13:23:27,483 - INFO - 1 change detected
2026-02-12 13:23:27,890 - INFO - 1 change detected
2026-02-12 13:23:28,295 - INFO - 1 change detected
2026-02-12 13:23:28,704 - INFO - 1 change detected
2026-02-12 13:23:29,116 - INFO - 1 change detected
2026-02-12 13:23:29,521 - INFO - 1 change detected
2026-02-12 13:23:29,925 - INFO - 1 change detected
2026-02-12 13:23:30,332 - INFO - 1 change detected
2026-02-12 13:23:30,689 - INFO - 1 change detected
2026-02-12 13:23:31,146 - INFO - 1 change detected
2026-02-12 13:23:31,512 - INFO - 1 change detected
2026-02-12 13:23:31,924 - INFO - 1 change detected
2026-02-12 13:23:32,328 - INFO - 1 change detected
2026-02-12 13:23:32,690 - INFO - 1 change detected
2026-02-12 13:23:33,102 - INFO - 1 change detected
2026-02-12 13:23:33,509 - INFO - 1 change detected
2026-02-12 13:23:33,916 - INFO - 1 change detected
2026-02-12 13:23:34,323 - INFO - 1 change detected
2026-02-12 13:23:34,731 - INFO - 1 change detected
2026-02-12 13:23:35,138 - INFO - 1 change detected
2026-02-12 13:23:35,543 - INFO - 1 change detected
2026-02-12 13:23:35,949 - INFO - 1 change detected
2026-02-12 13:23:36,354 - INFO - 1 change detected
2026-02-12 13:23:36,760 - INFO - 1 change detected
2026-02-12 13:23:37,166 - INFO - 1 change detected
2026-02-12 13:23:37,524 - INFO - 1 change detected
2026-02-12 13:23:37,932 - INFO - 1 change detected
2026-02-12 13:23:38,339 - INFO - 1 change detected
2026-02-12 13:23:38,748 - INFO - 1 change detected
2026-02-12 13:23:39,157 - INFO - 1 change detected
2026-02-12 13:23:39,565 - INFO - 1 change detected
2026-02-12 13:23:39,971 - INFO - 1 change detected
2026-02-12 13:23:40,377 - INFO - 1 change detected
2026-02-12 13:23:40,788 - INFO - 1 change detected
2026-02-12 13:23:41,198 - INFO - 1 change detected
2026-02-12 13:23:41,604 - INFO - 1 change detected
2026-02-12 13:23:42,010 - INFO - 1 change detected
2026-02-12 13:23:42,417 - INFO - 1 change detected
2026-02-12 13:23:42,823 - INFO - 1 change detected
2026-02-12 13:23:43,180 - INFO - 1 change detected
2026-02-12 13:23:43,591 - INFO - 1 change detected
2026-02-12 13:23:43,996 - INFO - 1 change detected
2026-02-12 13:23:44,401 - INFO - 1 change detected
2026-02-12 13:23:44,809 - INFO - 1 change detected
2026-02-12 13:23:45,219 - INFO - 1 change detected
2026-02-12 13:23:45,638 - INFO - 1 change detected
2026-02-12 13:23:46,049 - INFO - 1 change detected
2026-02-12 13:23:46,457 - INFO - 1 change detected
2026-02-12 13:23:46,865 - INFO - 1 change detected
2026-02-12 13:23:47,220 - INFO - 1 change detected
2026-02-12 13:23:47,629 - INFO - 2 changes detected
2026-02-12 13:23:47,629 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-12 13:23:47,713 - INFO - Shutting down
2026-02-12 13:23:47,823 - INFO - Waiting for application shutdown.
2026-02-12 13:23:47,828 - INFO - Application shutdown complete.
2026-02-12 13:23:47,830 - INFO - Finished server process [12532]
2026-02-12 13:23:48,531 - INFO - 1 change detected
2026-02-12 13:23:49,443 - INFO - 5 changes detected
2026-02-12 13:23:51,310 - INFO - Started server process [15888]
2026-02-12 13:23:51,312 - INFO - Waiting for application startup.
2026-02-12 13:23:51,317 - INFO - BEGIN (implicit)
2026-02-12 13:23:51,317 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-12 13:23:51,318 - INFO - [raw sql] ()
2026-02-12 13:23:51,321 - INFO - PRAGMA main.table_info("query_log")
2026-02-12 13:23:51,321 - INFO - [raw sql] ()
2026-02-12 13:23:51,323 - INFO - PRAGMA main.table_info("request_log")
2026-02-12 13:23:51,323 - INFO - [raw sql] ()
2026-02-12 13:23:51,325 - INFO - COMMIT
2026-02-12 13:23:56,174 - INFO - Application startup complete.
2026-02-12 13:23:56,447 - INFO - 1 change detected
2026-02-12 13:23:56,447 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-12 13:23:56,498 - INFO - Shutting down
2026-02-12 13:23:56,607 - INFO - Waiting for application shutdown.
2026-02-12 13:23:56,610 - INFO - Application shutdown complete.
2026-02-12 13:23:56,611 - INFO - Finished server process [15888]
2026-02-12 13:23:57,285 - INFO - 1 change detected
2026-02-12 13:23:57,996 - INFO - 5 changes detected
2026-02-12 13:23:59,564 - INFO - Started server process [5360]
2026-02-12 13:23:59,566 - INFO - Waiting for application startup.
2026-02-12 13:23:59,574 - INFO - BEGIN (implicit)
2026-02-12 13:23:59,575 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-12 13:23:59,576 - INFO - [raw sql] ()
2026-02-12 13:23:59,579 - INFO - PRAGMA main.table_info("query_log")
2026-02-12 13:23:59,579 - INFO - [raw sql] ()
2026-02-12 13:23:59,583 - INFO - PRAGMA main.table_info("request_log")
2026-02-12 13:23:59,583 - INFO - [raw sql] ()
2026-02-12 13:23:59,586 - INFO - COMMIT
2026-02-12 13:24:04,477 - INFO - Application startup complete.
2026-02-12 13:24:23,435 - INFO - Shutting down
2026-02-12 13:24:23,546 - INFO - Waiting for application shutdown.
2026-02-12 13:24:23,553 - INFO - Application shutdown complete.
2026-02-12 13:24:23,555 - INFO - Finished server process [5360]
2026-02-12 13:24:23,875 - INFO - Stopping reloader process [24228]
2026-02-12 13:24:39,187 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-02-12 13:24:39,189 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-12 13:24:39,190 - INFO - Started reloader process [15384] using WatchFiles
2026-02-12 13:24:41,669 - INFO - Started server process [12656]
2026-02-12 13:24:41,671 - INFO - Waiting for application startup.
2026-02-12 13:24:41,676 - INFO - BEGIN (implicit)
2026-02-12 13:24:41,676 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-12 13:24:41,677 - INFO - [raw sql] ()
2026-02-12 13:24:41,680 - INFO - PRAGMA main.table_info("query_log")
2026-02-12 13:24:41,680 - INFO - [raw sql] ()
2026-02-12 13:24:41,682 - INFO - PRAGMA main.table_info("request_log")
2026-02-12 13:24:41,682 - INFO - [raw sql] ()
2026-02-12 13:24:41,684 - INFO - COMMIT
2026-02-12 13:24:46,445 - INFO - Application startup complete.
2026-02-12 13:25:03,995 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 215, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation error:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [{'filename': 'Just do it.mp4', 'success': False, 'errors': 'The file extension .mp4 not allowed'}]}

  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\api\routes\file_upload.py", line 12, in upload_docs
    POST /upload-docs
2026-02-12 13:27:04,371 - INFO - 1 change detected
2026-02-12 13:27:04,371 - WARNING - WatchFiles detected changes in 'schemas\file.py'. Reloading...
2026-02-12 13:27:04,474 - INFO - Shutting down
2026-02-12 13:27:04,585 - INFO - Waiting for application shutdown.
2026-02-12 13:27:04,590 - INFO - Application shutdown complete.
2026-02-12 13:27:04,592 - INFO - Finished server process [12656]
2026-02-12 13:27:05,279 - INFO - 1 change detected
2026-02-12 13:27:06,651 - INFO - 5 changes detected
2026-02-12 13:27:08,559 - INFO - Started server process [21708]
2026-02-12 13:27:08,562 - INFO - Waiting for application startup.
2026-02-12 13:27:08,568 - INFO - BEGIN (implicit)
2026-02-12 13:27:08,568 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-12 13:27:08,569 - INFO - [raw sql] ()
2026-02-12 13:27:08,570 - INFO - PRAGMA main.table_info("query_log")
2026-02-12 13:27:08,570 - INFO - [raw sql] ()
2026-02-12 13:27:08,573 - INFO - PRAGMA main.table_info("request_log")
2026-02-12 13:27:08,573 - INFO - [raw sql] ()
2026-02-12 13:27:08,575 - INFO - COMMIT
2026-02-12 13:27:13,465 - INFO - Application startup complete.
2026-02-12 13:27:17,938 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 215, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation error:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [{'filename': 'Just do it.mp4', 'success': False, 'errors': 'The file extension .mp4 not allowed'}]}

  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\api\routes\file_upload.py", line 12, in upload_docs
    POST /upload-docs
2026-02-12 13:27:21,844 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 215, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation error:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [{'filename': 'Just do it.mp4', 'success': False, 'errors': 'The file extension .mp4 not allowed'}]}

  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\api\routes\file_upload.py", line 12, in upload_docs
    POST /upload-docs
2026-02-12 13:28:01,349 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-02-12 13:28:01,351 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-12 13:28:01,353 - INFO - Started reloader process [5920] using WatchFiles
2026-02-12 13:28:04,253 - INFO - Started server process [22284]
2026-02-12 13:28:04,254 - INFO - Waiting for application startup.
2026-02-12 13:28:04,261 - INFO - BEGIN (implicit)
2026-02-12 13:28:04,261 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-12 13:28:04,261 - INFO - [raw sql] ()
2026-02-12 13:28:04,265 - INFO - PRAGMA main.table_info("query_log")
2026-02-12 13:28:04,265 - INFO - [raw sql] ()
2026-02-12 13:28:04,267 - INFO - PRAGMA main.table_info("request_log")
2026-02-12 13:28:04,267 - INFO - [raw sql] ()
2026-02-12 13:28:04,269 - INFO - COMMIT
2026-02-12 13:28:09,165 - INFO - Application startup complete.
2026-02-12 13:28:26,301 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\api\routes\file_upload.py", line 22, in upload_docs
    uploader = await upload.run(files)
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\services\file_service\file_uploader.py", line 81, in run
    await self.save_file_name(self.db,filename,unique_filename)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\services\file_service\file_uploader.py", line 122, in save_file_name
    db.add(new_file)
    ^^^^^^
AttributeError: 'function' object has no attribute 'add'
2026-02-12 13:28:26,346 - INFO - 1 change detected
2026-02-12 13:28:27,003 - INFO - 1 change detected
2026-02-12 13:29:04,465 - INFO - 1 change detected
2026-02-12 13:29:04,466 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-12 13:29:04,523 - INFO - Shutting down
2026-02-12 13:29:04,630 - INFO - Waiting for application shutdown.
2026-02-12 13:29:04,633 - INFO - Application shutdown complete.
2026-02-12 13:29:04,634 - INFO - Finished server process [22284]
2026-02-12 13:29:05,292 - INFO - 1 change detected
2026-02-12 13:29:05,654 - INFO - 1 change detected
2026-02-12 13:29:05,654 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-12 13:29:08,234 - INFO - Started server process [17468]
2026-02-12 13:29:08,236 - INFO - Waiting for application startup.
2026-02-12 13:29:08,242 - INFO - BEGIN (implicit)
2026-02-12 13:29:08,243 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-12 13:29:08,243 - INFO - [raw sql] ()
2026-02-12 13:29:08,246 - INFO - PRAGMA main.table_info("query_log")
2026-02-12 13:29:08,246 - INFO - [raw sql] ()
2026-02-12 13:29:08,248 - INFO - PRAGMA main.table_info("request_log")
2026-02-12 13:29:08,248 - INFO - [raw sql] ()
2026-02-12 13:29:08,250 - INFO - COMMIT
2026-02-12 13:29:13,227 - INFO - Application startup complete.
2026-02-12 13:29:13,310 - ERROR - Traceback (most recent call last):
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\_compat.py", line 30, in asyncio_run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2026-02-12 13:30:25,746 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-02-12 13:30:25,749 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-12 13:30:25,751 - INFO - Started reloader process [10900] using WatchFiles
2026-02-12 13:30:28,242 - INFO - Started server process [15680]
2026-02-12 13:30:28,243 - INFO - Waiting for application startup.
2026-02-12 13:30:28,248 - INFO - BEGIN (implicit)
2026-02-12 13:30:28,248 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-12 13:30:28,248 - INFO - [raw sql] ()
2026-02-12 13:30:28,252 - INFO - PRAGMA main.table_info("query_log")
2026-02-12 13:30:28,252 - INFO - [raw sql] ()
2026-02-12 13:30:28,253 - INFO - PRAGMA main.table_info("request_log")
2026-02-12 13:30:28,253 - INFO - [raw sql] ()
2026-02-12 13:30:28,255 - INFO - COMMIT
2026-02-12 13:30:33,108 - INFO - Application startup complete.
2026-02-12 13:33:15,437 - INFO - 1 change detected
2026-02-12 13:33:15,438 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-12 13:33:15,479 - INFO - Shutting down
2026-02-12 13:33:15,588 - INFO - Waiting for application shutdown.
2026-02-12 13:33:15,592 - INFO - Application shutdown complete.
2026-02-12 13:33:15,594 - INFO - Finished server process [15680]
2026-02-12 13:33:16,237 - INFO - 1 change detected
2026-02-12 13:33:17,202 - INFO - 5 changes detected
2026-02-12 13:33:18,792 - INFO - Started server process [8580]
2026-02-12 13:33:18,794 - INFO - Waiting for application startup.
2026-02-12 13:33:18,800 - INFO - BEGIN (implicit)
2026-02-12 13:33:18,800 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-12 13:33:18,801 - INFO - [raw sql] ()
2026-02-12 13:33:18,803 - INFO - PRAGMA main.table_info("query_log")
2026-02-12 13:33:18,803 - INFO - [raw sql] ()
2026-02-12 13:33:18,807 - INFO - PRAGMA main.table_info("request_log")
2026-02-12 13:33:18,807 - INFO - [raw sql] ()
2026-02-12 13:33:18,809 - INFO - COMMIT
2026-02-12 13:33:23,575 - INFO - Application startup complete.
2026-02-12 13:33:28,176 - INFO - 1 change detected
2026-02-12 13:33:28,176 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-12 13:33:28,184 - INFO - Shutting down
2026-02-12 13:33:28,294 - INFO - Waiting for application shutdown.
2026-02-12 13:33:28,298 - INFO - Application shutdown complete.
2026-02-12 13:33:28,299 - INFO - Finished server process [8580]
2026-02-12 13:33:28,956 - INFO - 1 change detected
2026-02-12 13:33:29,921 - INFO - 5 changes detected
2026-02-12 13:33:31,382 - INFO - Started server process [16436]
2026-02-12 13:33:31,382 - INFO - Waiting for application startup.
2026-02-12 13:33:31,388 - INFO - BEGIN (implicit)
2026-02-12 13:33:31,389 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-12 13:33:31,389 - INFO - [raw sql] ()
2026-02-12 13:33:31,391 - INFO - PRAGMA main.table_info("query_log")
2026-02-12 13:33:31,391 - INFO - [raw sql] ()
2026-02-12 13:33:31,393 - INFO - PRAGMA main.table_info("request_log")
2026-02-12 13:33:31,393 - INFO - [raw sql] ()
2026-02-12 13:33:31,395 - INFO - COMMIT
2026-02-12 13:33:36,167 - INFO - Application startup complete.
2026-02-12 13:36:01,728 - INFO - 1 change detected
2026-02-12 13:36:01,728 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-12 13:36:01,834 - INFO - Shutting down
2026-02-12 13:36:01,943 - INFO - Waiting for application shutdown.
2026-02-12 13:36:01,946 - INFO - Application shutdown complete.
2026-02-12 13:36:01,947 - INFO - Finished server process [16436]
2026-02-12 13:36:02,618 - INFO - 1 change detected
2026-02-12 13:36:03,666 - INFO - 5 changes detected
2026-02-12 13:36:05,370 - INFO - Started server process [3024]
2026-02-12 13:36:05,372 - INFO - Waiting for application startup.
2026-02-12 13:36:05,378 - INFO - BEGIN (implicit)
2026-02-12 13:36:05,378 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-12 13:36:05,379 - INFO - [raw sql] ()
2026-02-12 13:36:05,382 - INFO - PRAGMA main.table_info("query_log")
2026-02-12 13:36:05,382 - INFO - [raw sql] ()
2026-02-12 13:36:05,384 - INFO - PRAGMA main.table_info("request_log")
2026-02-12 13:36:05,385 - INFO - [raw sql] ()
2026-02-12 13:36:05,387 - INFO - COMMIT
2026-02-12 13:36:10,240 - INFO - Application startup complete.
2026-02-12 13:36:28,557 - INFO - 1 change detected
2026-02-12 13:36:28,557 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-12 13:36:28,617 - INFO - Shutting down
2026-02-12 13:36:28,723 - INFO - Waiting for application shutdown.
2026-02-12 13:36:28,728 - INFO - Application shutdown complete.
2026-02-12 13:36:28,731 - INFO - Finished server process [3024]
2026-02-12 13:36:29,430 - INFO - 1 change detected
2026-02-12 13:36:30,292 - INFO - 5 changes detected
2026-02-12 13:36:31,825 - INFO - Started server process [7340]
2026-02-12 13:36:31,828 - INFO - Waiting for application startup.
2026-02-12 13:36:31,832 - INFO - BEGIN (implicit)
2026-02-12 13:36:31,833 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-12 13:36:31,833 - INFO - [raw sql] ()
2026-02-12 13:36:31,835 - INFO - PRAGMA main.table_info("query_log")
2026-02-12 13:36:31,836 - INFO - [raw sql] ()
2026-02-12 13:36:31,836 - INFO - PRAGMA main.table_info("request_log")
2026-02-12 13:36:31,837 - INFO - [raw sql] ()
2026-02-12 13:36:31,838 - INFO - COMMIT
2026-02-12 13:36:36,638 - INFO - Application startup complete.
2026-02-12 13:39:49,838 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\api\routes\file_upload.py", line 22, in upload_docs
    uploader = await upload.run(files)
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\services\file_service\file_uploader.py", line 81, in run
    await self.save_file_name(self,filename,unique_filename)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: FileUploader.save_file_name() takes 3 positional arguments but 4 were given
2026-02-12 13:39:49,890 - INFO - 1 change detected
2026-02-12 13:39:50,509 - INFO - 1 change detected
2026-02-12 13:40:27,908 - INFO - 1 change detected
2026-02-12 13:40:27,908 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-12 13:40:28,011 - INFO - Shutting down
2026-02-12 13:40:28,120 - INFO - Waiting for application shutdown.
2026-02-12 13:40:28,123 - INFO - Application shutdown complete.
2026-02-12 13:40:28,124 - INFO - Finished server process [7340]
2026-02-12 13:40:28,767 - INFO - 1 change detected
2026-02-12 13:40:29,580 - INFO - 5 changes detected
2026-02-12 13:40:31,100 - INFO - Started server process [15368]
2026-02-12 13:40:31,102 - INFO - Waiting for application startup.
2026-02-12 13:40:31,106 - INFO - BEGIN (implicit)
2026-02-12 13:40:31,108 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-12 13:40:31,108 - INFO - [raw sql] ()
2026-02-12 13:40:31,110 - INFO - PRAGMA main.table_info("query_log")
2026-02-12 13:40:31,111 - INFO - [raw sql] ()
2026-02-12 13:40:31,112 - INFO - PRAGMA main.table_info("request_log")
2026-02-12 13:40:31,112 - INFO - [raw sql] ()
2026-02-12 13:40:31,114 - INFO - COMMIT
2026-02-12 13:40:35,933 - INFO - Application startup complete.
2026-02-12 13:40:45,298 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\api\routes\file_upload.py", line 22, in upload_docs
    uploader = await upload.run(files)
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\services\file_service\file_uploader.py", line 81, in run
    await self.save_file_name(filename,unique_filename)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\services\file_service\file_uploader.py", line 122, in save_file_name
    self.db.add(new_file)
    ^^^^^^^^^^^
AttributeError: 'function' object has no attribute 'add'
2026-02-12 13:40:45,372 - INFO - 1 change detected
2026-02-12 13:40:45,938 - INFO - 1 change detected
2026-02-12 14:10:04,352 - INFO - Shutting down
2026-02-12 14:10:04,461 - INFO - Waiting for application shutdown.
2026-02-12 14:10:04,463 - INFO - Application shutdown complete.
2026-02-12 14:10:04,465 - INFO - Finished server process [15368]
2026-02-12 14:10:04,751 - INFO - Stopping reloader process [10900]
2026-02-12 14:10:31,743 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-02-12 14:10:31,745 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-12 14:10:31,747 - INFO - Started reloader process [24788] using WatchFiles
2026-02-12 14:10:36,165 - INFO - Started server process [15188]
2026-02-12 14:10:36,168 - INFO - Waiting for application startup.
2026-02-12 14:10:36,178 - INFO - BEGIN (implicit)
2026-02-12 14:10:36,179 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-12 14:10:36,179 - INFO - [raw sql] ()
2026-02-12 14:10:36,183 - INFO - PRAGMA main.table_info("query_log")
2026-02-12 14:10:36,183 - INFO - [raw sql] ()
2026-02-12 14:10:36,186 - INFO - PRAGMA main.table_info("request_log")
2026-02-12 14:10:36,187 - INFO - [raw sql] ()
2026-02-12 14:10:36,190 - INFO - COMMIT
2026-02-12 14:10:41,419 - INFO - Application startup complete.
2026-02-12 14:13:13,427 - INFO - 1 change detected
2026-02-12 14:13:13,428 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:13:13,470 - INFO - Shutting down
2026-02-12 14:13:13,578 - INFO - Waiting for application shutdown.
2026-02-12 14:13:13,582 - INFO - Application shutdown complete.
2026-02-12 14:13:13,583 - INFO - Finished server process [15188]
2026-02-12 14:13:14,283 - INFO - 1 change detected
2026-02-12 14:13:15,248 - INFO - 1 change detected
2026-02-12 14:13:15,248 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:13:23,080 - INFO - 1 change detected
2026-02-12 14:13:23,080 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:13:25,957 - INFO - 1 change detected
2026-02-12 14:13:25,957 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:13:29,573 - INFO - 1 change detected
2026-02-12 14:13:29,573 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:13:31,332 - INFO - 1 change detected
2026-02-12 14:13:31,332 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:13:34,603 - INFO - 1 change detected
2026-02-12 14:13:34,603 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:13:43,839 - INFO - 1 change detected
2026-02-12 14:13:43,839 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:13:47,301 - INFO - 1 change detected
2026-02-12 14:13:47,301 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:13:50,492 - INFO - 1 change detected
2026-02-12 14:13:50,493 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:13:55,171 - INFO - 1 change detected
2026-02-12 14:13:55,171 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:13:56,242 - INFO - 1 change detected
2026-02-12 14:13:56,242 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:13:58,711 - INFO - 1 change detected
2026-02-12 14:13:58,712 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:14:02,295 - INFO - 1 change detected
2026-02-12 14:14:02,295 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:14:04,564 - INFO - 1 change detected
2026-02-12 14:14:04,564 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:14:06,768 - INFO - 1 change detected
2026-02-12 14:14:06,768 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:14:16,913 - INFO - 1 change detected
2026-02-12 14:14:16,913 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:14:21,523 - INFO - 1 change detected
2026-02-12 14:14:21,524 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:14:23,280 - INFO - 1 change detected
2026-02-12 14:14:23,281 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:14:26,507 - INFO - 1 change detected
2026-02-12 14:14:26,507 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:14:51,583 - INFO - 1 change detected
2026-02-12 14:14:51,583 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:14:53,401 - INFO - 1 change detected
2026-02-12 14:14:53,401 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:14:58,400 - INFO - 1 change detected
2026-02-12 14:14:58,400 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:14:59,577 - INFO - 5 changes detected
2026-02-12 14:15:36,138 - INFO - 1 change detected
2026-02-12 14:15:36,138 - WARNING - WatchFiles detected changes in 'api\deps\service_deps.py'. Reloading...
2026-02-12 14:15:37,936 - INFO - 5 changes detected
2026-02-12 14:15:56,357 - INFO - 1 change detected
2026-02-12 14:15:56,357 - WARNING - WatchFiles detected changes in 'api\deps\service_deps.py'. Reloading...
2026-02-12 14:15:58,353 - INFO - 5 changes detected
2026-02-12 14:16:04,778 - INFO - 1 change detected
2026-02-12 14:16:04,778 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:16:05,950 - INFO - 5 changes detected
2026-02-12 14:16:09,244 - INFO - 1 change detected
2026-02-12 14:16:09,245 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:16:10,850 - INFO - 6 changes detected
2026-02-12 14:16:10,850 - WARNING - WatchFiles detected changes in 'api\routes\file_upload.py'. Reloading...
2026-02-12 14:16:13,922 - INFO - 5 changes detected
2026-02-12 14:18:36,032 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-02-12 14:18:36,036 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-12 14:18:36,038 - INFO - Started reloader process [22572] using WatchFiles
2026-02-12 14:18:38,460 - INFO - Started server process [13628]
2026-02-12 14:18:38,462 - INFO - Waiting for application startup.
2026-02-12 14:18:38,467 - INFO - BEGIN (implicit)
2026-02-12 14:18:38,468 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-12 14:18:38,468 - INFO - [raw sql] ()
2026-02-12 14:18:38,470 - INFO - PRAGMA main.table_info("query_log")
2026-02-12 14:18:38,470 - INFO - [raw sql] ()
2026-02-12 14:18:38,472 - INFO - PRAGMA main.table_info("request_log")
2026-02-12 14:18:38,472 - INFO - [raw sql] ()
2026-02-12 14:18:38,474 - INFO - COMMIT
2026-02-12 14:18:43,226 - INFO - Application startup complete.
2026-02-12 14:19:35,384 - INFO - 1 change detected
2026-02-12 14:19:35,331 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\api\routes\file_upload.py", line 22, in upload_docs
    uploader = await upload.run(files)
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\services\file_service\file_uploader.py", line 81, in run
    await self.save_file_name(filename,unique_filename)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\services\file_service\file_uploader.py", line 122, in save_file_name
    self.db.add(new_file)
    ^^^^^^^^^^^
AttributeError: 'function' object has no attribute 'add'
2026-02-12 14:19:35,994 - INFO - 1 change detected
2026-02-12 14:55:35,268 - INFO - 1 change detected
2026-02-12 14:55:35,271 - WARNING - WatchFiles detected changes in 'api\deps\service_deps.py'. Reloading...
2026-02-12 14:55:35,359 - INFO - Shutting down
2026-02-12 14:55:35,467 - INFO - Waiting for application shutdown.
2026-02-12 14:55:35,473 - INFO - Application shutdown complete.
2026-02-12 14:55:35,473 - INFO - Finished server process [13628]
2026-02-12 14:55:36,388 - INFO - 1 change detected
2026-02-12 14:55:36,748 - INFO - 1 change detected
2026-02-12 14:55:36,748 - WARNING - WatchFiles detected changes in 'api\deps\service_deps.py'. Reloading...
2026-02-12 14:55:39,275 - INFO - 5 changes detected
2026-02-12 14:55:42,303 - INFO - Started server process [17840]
2026-02-12 14:55:42,306 - INFO - Waiting for application startup.
2026-02-12 14:55:42,315 - INFO - BEGIN (implicit)
2026-02-12 14:55:42,315 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-12 14:55:42,315 - INFO - [raw sql] ()
2026-02-12 14:55:42,321 - INFO - PRAGMA main.table_info("query_log")
2026-02-12 14:55:42,321 - INFO - [raw sql] ()
2026-02-12 14:55:42,324 - INFO - PRAGMA main.table_info("request_log")
2026-02-12 14:55:42,326 - INFO - [raw sql] ()
2026-02-12 14:55:42,328 - INFO - COMMIT
2026-02-12 14:55:47,974 - INFO - Application startup complete.
2026-02-12 14:55:48,639 - INFO - 1 change detected
2026-02-12 14:55:48,640 - WARNING - WatchFiles detected changes in 'api\deps\service_deps.py'. Reloading...
2026-02-12 14:55:48,731 - INFO - Shutting down
2026-02-12 14:55:48,838 - INFO - Waiting for application shutdown.
2026-02-12 14:55:48,841 - INFO - Application shutdown complete.
2026-02-12 14:55:48,841 - INFO - Finished server process [17840]
2026-02-12 14:55:49,638 - INFO - 1 change detected
2026-02-12 14:55:51,374 - INFO - 5 changes detected
2026-02-12 14:55:54,279 - INFO - Started server process [1552]
2026-02-12 14:55:54,284 - INFO - Waiting for application startup.
2026-02-12 14:55:54,293 - INFO - BEGIN (implicit)
2026-02-12 14:55:54,295 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-12 14:55:54,295 - INFO - [raw sql] ()
2026-02-12 14:55:54,301 - INFO - PRAGMA main.table_info("query_log")
2026-02-12 14:55:54,301 - INFO - [raw sql] ()
2026-02-12 14:55:54,305 - INFO - PRAGMA main.table_info("request_log")
2026-02-12 14:55:54,305 - INFO - [raw sql] ()
2026-02-12 14:55:54,309 - INFO - COMMIT
2026-02-12 14:55:55,357 - INFO - 1 change detected
2026-02-12 14:55:55,365 - WARNING - WatchFiles detected changes in 'api\deps\service_deps.py'. Reloading...
2026-02-12 14:55:59,876 - INFO - Application startup complete.
2026-02-12 14:55:59,943 - ERROR - Traceback (most recent call last):
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\_compat.py", line 30, in asyncio_run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2026-02-12 14:58:24,259 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-02-12 14:58:24,261 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-12 14:58:24,262 - INFO - Started reloader process [17860] using WatchFiles
2026-02-12 14:58:28,618 - INFO - Started server process [1028]
2026-02-12 14:58:28,621 - INFO - Waiting for application startup.
2026-02-12 14:58:28,633 - INFO - BEGIN (implicit)
2026-02-12 14:58:28,633 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-12 14:58:28,634 - INFO - [raw sql] ()
2026-02-12 14:58:28,639 - INFO - PRAGMA main.table_info("query_log")
2026-02-12 14:58:28,639 - INFO - [raw sql] ()
2026-02-12 14:58:28,642 - INFO - PRAGMA main.table_info("request_log")
2026-02-12 14:58:28,643 - INFO - [raw sql] ()
2026-02-12 14:58:28,646 - INFO - COMMIT
2026-02-12 14:58:33,877 - INFO - Application startup complete.
2026-02-12 14:59:09,217 - INFO - BEGIN (implicit)
2026-02-12 14:59:09,233 - INFO - INSERT INTO filenamestore (date, time, stored_file_name, original_file_name) VALUES (?, ?, ?, ?)
2026-02-12 14:59:09,233 - INFO - [generated in 0.00093s] (datetime.date(2026, 2, 12), datetime.datetime(2026, 2, 12, 14, 59, 9, 208606), '17ada3fe-72b9-470e-8a9f-f636d4dae4dc.pdf', '04-Day 9 - Building the Foundation of a SOLID PROFILE.pdf')
2026-02-12 14:59:09,242 - INFO - COMMIT
2026-02-12 14:59:09,256 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 215, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation error:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [{'filename': '04-Day 9 - Building the Foundation of a SOLID PROFILE.pdf', 'success': True}]}

  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\api\routes\file_upload.py", line 12, in upload_docs
    POST /upload-docs
2026-02-12 14:59:09,338 - INFO - 4 changes detected
2026-02-12 14:59:20,823 - INFO - 1 change detected
2026-02-12 14:59:55,927 - INFO - BEGIN (implicit)
2026-02-12 14:59:55,929 - INFO - INSERT INTO filenamestore (date, time, stored_file_name, original_file_name) VALUES (?, ?, ?, ?)
2026-02-12 14:59:55,930 - INFO - [cached since 46.7s ago] (datetime.date(2026, 2, 12), datetime.datetime(2026, 2, 12, 14, 59, 55, 925847), 'fab0ab05-d785-4434-9162-11f3c95096f5.pdf', '04-Day 9 - Building the Foundation of a SOLID PROFILE.pdf')
2026-02-12 14:59:55,947 - INFO - COMMIT
2026-02-12 14:59:55,961 - INFO - BEGIN (implicit)
2026-02-12 14:59:55,962 - INFO - INSERT INTO filenamestore (date, time, stored_file_name, original_file_name) VALUES (?, ?, ?, ?)
2026-02-12 14:59:55,963 - INFO - [cached since 46.73s ago] (datetime.date(2026, 2, 12), datetime.datetime(2026, 2, 12, 14, 59, 55, 957695), 'da4ffc81-8e4f-4328-aa96-36aee910a9b4.pdf', 'My Resume.pdf')
2026-02-12 14:59:55,968 - INFO - COMMIT
2026-02-12 14:59:55,981 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 215, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation error:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [{'filename': '04-Day 9 - Building the Foundation of a SOLID PROFILE.pdf', 'success': True}, {'filename': 'My Resume.pdf', 'success': True}]}

  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\api\routes\file_upload.py", line 12, in upload_docs
    POST /upload-docs
2026-02-12 14:59:56,038 - INFO - 6 changes detected
2026-02-12 15:01:03,911 - INFO - BEGIN (implicit)
2026-02-12 15:01:03,912 - INFO - INSERT INTO filenamestore (date, time, stored_file_name, original_file_name) VALUES (?, ?, ?, ?)
2026-02-12 15:01:03,913 - INFO - [cached since 114.7s ago] (datetime.date(2026, 2, 12), datetime.datetime(2026, 2, 12, 15, 1, 3, 910575), '267e93dd-2264-48c2-9304-a1e73ebbcd02.pdf', '04-Day 9 - Building the Foundation of a SOLID PROFILE.pdf')
2026-02-12 15:01:03,928 - INFO - COMMIT
2026-02-12 15:01:03,939 - INFO - BEGIN (implicit)
2026-02-12 15:01:03,940 - INFO - INSERT INTO filenamestore (date, time, stored_file_name, original_file_name) VALUES (?, ?, ?, ?)
2026-02-12 15:01:03,941 - INFO - [cached since 114.7s ago] (datetime.date(2026, 2, 12), datetime.datetime(2026, 2, 12, 15, 1, 3, 938622), '16eae1ce-4972-435a-9b69-35c4b258474c.pdf', 'My Resume.pdf')
2026-02-12 15:01:03,945 - INFO - COMMIT
2026-02-12 15:01:03,958 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\protocols\http\httptools_impl.py", line 416, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 186, in __call__
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\sessions.py", line 85, in __call__
    await self.app(scope, receive, send_wrapper)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 377, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\fastapi\routing.py", line 215, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation error:
  {'type': 'model_attributes_type', 'loc': ('response',), 'msg': 'Input should be a valid dictionary or object to extract fields from', 'input': [{'filename': '04-Day 9 - Building the Foundation of a SOLID PROFILE.pdf', 'success': True}, {'filename': 'My Resume.pdf', 'success': True}, {'filename': 'response_1770900045319.html', 'success': False, 'errors': 'The file extension .html not allowed'}]}

  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\api\routes\file_upload.py", line 12, in upload_docs
    POST /upload-docs
2026-02-12 15:01:04,016 - INFO - 6 changes detected
2026-02-12 15:11:53,685 - INFO - 1 change detected
2026-02-12 15:11:53,686 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-12 15:11:53,704 - INFO - Shutting down
2026-02-12 15:11:53,819 - INFO - Waiting for application shutdown.
2026-02-12 15:11:53,827 - INFO - Application shutdown complete.
2026-02-12 15:11:53,830 - INFO - Finished server process [1028]
2026-02-12 15:11:54,750 - INFO - 1 change detected
2026-02-12 15:11:56,529 - INFO - 5 changes detected
2026-02-12 15:11:56,880 - INFO - 1 change detected
2026-02-12 15:11:56,880 - WARNING - WatchFiles detected changes in 'services\file_service\file_uploader.py'. Reloading...
2026-02-12 15:11:59,689 - INFO - Started server process [23228]
2026-02-12 15:11:59,693 - INFO - Waiting for application startup.
2026-02-12 15:11:59,706 - INFO - BEGIN (implicit)
2026-02-12 15:11:59,706 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-12 15:11:59,706 - INFO - [raw sql] ()
2026-02-12 15:11:59,713 - INFO - PRAGMA main.table_info("query_log")
2026-02-12 15:11:59,714 - INFO - [raw sql] ()
2026-02-12 15:11:59,717 - INFO - PRAGMA main.table_info("request_log")
2026-02-12 15:11:59,717 - INFO - [raw sql] ()
2026-02-12 15:11:59,721 - INFO - COMMIT
2026-02-12 15:12:04,821 - INFO - Application startup complete.
2026-02-12 15:12:04,829 - ERROR - Traceback (most recent call last):
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\_compat.py", line 30, in asyncio_run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2026-02-12 15:14:40,065 - INFO - Will watch for changes in these directories: ['C:\\Users\\NEC\\Documents\\projects\\AnswerFlow\\backend']
2026-02-12 15:14:40,067 - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2026-02-12 15:14:40,070 - INFO - Started reloader process [11524] using WatchFiles
2026-02-12 15:14:44,055 - INFO - Started server process [3620]
2026-02-12 15:14:44,057 - INFO - Waiting for application startup.
2026-02-12 15:14:44,071 - INFO - BEGIN (implicit)
2026-02-12 15:14:44,078 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-12 15:14:44,080 - INFO - [raw sql] ()
2026-02-12 15:14:44,083 - INFO - PRAGMA main.table_info("query_log")
2026-02-12 15:14:44,086 - INFO - [raw sql] ()
2026-02-12 15:14:44,090 - INFO - PRAGMA main.table_info("request_log")
2026-02-12 15:14:44,090 - INFO - [raw sql] ()
2026-02-12 15:14:44,095 - INFO - COMMIT
2026-02-12 15:14:49,494 - INFO - Application startup complete.
2026-02-12 15:15:27,308 - INFO - BEGIN (implicit)
2026-02-12 15:15:27,313 - INFO - INSERT INTO filenamestore (date, time, stored_file_name, original_file_name) VALUES (?, ?, ?, ?)
2026-02-12 15:15:27,313 - INFO - [generated in 0.00094s] (datetime.date(2026, 2, 12), datetime.datetime(2026, 2, 12, 15, 15, 27, 299282), '54f364b2-a733-4fe8-b787-38280fce19e4.pdf', '04-Day 9 - Building the Foundation of a SOLID PROFILE.pdf')
2026-02-12 15:15:27,333 - INFO - COMMIT
2026-02-12 15:15:27,346 - INFO - BEGIN (implicit)
2026-02-12 15:15:27,346 - INFO - INSERT INTO filenamestore (date, time, stored_file_name, original_file_name) VALUES (?, ?, ?, ?)
2026-02-12 15:15:27,349 - INFO - [cached since 0.0358s ago] (datetime.date(2026, 2, 12), datetime.datetime(2026, 2, 12, 15, 15, 27, 346304), 'fec03581-8430-480b-b61f-b481715518da.pdf', 'My Resume.pdf')
2026-02-12 15:15:27,355 - INFO - COMMIT
2026-02-12 15:15:27,441 - INFO - 6 changes detected
2026-02-12 17:37:43,844 - INFO - 1 change detected
2026-02-12 17:37:43,858 - WARNING - WatchFiles detected changes in 'api\deps\service_deps.py'. Reloading...
2026-02-12 17:37:43,971 - INFO - Shutting down
2026-02-12 17:37:44,099 - INFO - Waiting for application shutdown.
2026-02-12 17:37:44,143 - INFO - Application shutdown complete.
2026-02-12 17:37:44,151 - INFO - Finished server process [3620]
2026-02-12 17:37:44,966 - INFO - 1 change detected
2026-02-12 17:37:45,977 - INFO - 5 changes detected
2026-02-12 17:37:47,878 - INFO - Started server process [24748]
2026-02-12 17:37:47,880 - INFO - Waiting for application startup.
2026-02-12 17:37:47,888 - INFO - BEGIN (implicit)
2026-02-12 17:37:47,888 - INFO - PRAGMA main.table_info("filenamestore")
2026-02-12 17:37:47,889 - INFO - [raw sql] ()
2026-02-12 17:37:47,891 - INFO - PRAGMA main.table_info("query_log")
2026-02-12 17:37:47,892 - INFO - [raw sql] ()
2026-02-12 17:37:47,893 - INFO - PRAGMA main.table_info("request_log")
2026-02-12 17:37:47,893 - INFO - [raw sql] ()
2026-02-12 17:37:47,896 - INFO - COMMIT
2026-02-12 17:37:50,726 - INFO - 1 change detected
2026-02-12 17:37:50,726 - WARNING - WatchFiles detected changes in 'api\deps\service_deps.py'. Reloading...
2026-02-12 17:37:52,684 - INFO - Application startup complete.
2026-02-12 17:37:52,701 - ERROR - Traceback (most recent call last):
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\_compat.py", line 30, in asyncio_run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\starlette\routing.py", line 701, in lifespan
    await receive()
  File "C:\Users\NEC\Documents\projects\AnswerFlow\backend\.venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NEC\AppData\Local\Programs\Python\Python311\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

